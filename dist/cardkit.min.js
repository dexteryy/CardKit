require.config({enable_ozma:!0}),define("../../cardkit/bus",["eventmaster"],function(a){return a()}),define("../../cardkit/supports",["mo/browsers"],function(a){var b=document.createElement("div"),c={touch:a.isTouch,overflowScroll:"webkitOverflowScrolling"in document.body.style,JSON:!!window.JSON,dataset:"dataset"in b};return c}),define("../../cardkit/ui/growl",["mo/lang","dollar","moui/growl"],function(a,b,c){function d(h,i){var j,k={corner:"bottom"};h.nodeName?(h=b(h),j=h[0][e],j&&g[j]&&g[j].close(),j=h[0][e]=++f,i=a.mix(k,h.data(),i)):i=a.mix(k,h),i.className="ck-growl",a.mix(i,d.forceOptions);var l=c(i);return j&&(g[j]=l),l}var e="_ckGrowlUid",f=0,g={};return d.forceOptions={},d}),define("../../cardkit/ui/util",["mo/lang","dollar","mo/network"],function(a,b,c){var d={flag:"_ckViewUid",forceOptions:{},defaultOptions:{},config:function(){},extend:function(){}},e={singleton:function(c){function e(d,h){var i=d;"object"==typeof d?(d=b(d),i=d[0][c.flag]):d=!1;var j=i&&g[i];return j?h&&c.config(j,h):(d&&(i=d[0][c.flag]=++f),h=a.merge(a.mix(h||{},e.forceOptions,c.forceOptions),c.defaultOptions,e.defaultOptions),j=g[i]=c.factory(d,h),c.extend(j,d)),j}var f=0,g={};return c=a.merge(c,d),e.forceOptions={},e.defaultOptions={},e.gc=function(a){for(var b in g)a(g[b])&&delete g[b]},e},request:function(a){var b=a.config,d=b.jsonUrl||b.url;if(d){var e;d=d.replace(/\?(.+)$/,function(a,b){return e=b.replace(/#.*/,""),""}),c.ajax({url:d,data:e,type:b.method||"post",dataType:b.jsonUrl?"json":"text",beforeSend:a.before,handleError:a.callback,success:a.callback})}else a.callback()}};return e}),define("../../cardkit/ui/actionview",["moui/actionview","../../cardkit/bus","../../cardkit/ui/util"],function(a,b,c){var d=c.singleton({flag:"_ckActionViewUid",forceOptions:{className:"ck-actionview"},factory:function(b,c){return a(c)},config:function(a,b){a.set(b)},extend:function(a,c){var e={component:a};a.event.bind("prepareOpen",function(a){d.current=a}).bind("cancelOpen",function(){d.current=null}).bind("open",function(a){b.fire("actionView:open",[a]),c&&c.trigger("actionView:open",e)}).bind("close",function(){d.current=null,b.unbind("actionView:confirmOnThis"),b.fire("actionView:close",[a]),c&&c.trigger("actionView:close",e)}).bind("cancel",function(){b.fire("actionView:cancel",[a]),c&&c.trigger("actionView:cancel",e)}).bind("confirm",function(a,d){if(b.fire("actionView:confirmOnThis",[a]).fire("actionView:confirm",[a]),c&&c.trigger("actionView:confirm",e),d&&d._lastSelected){var f=d._lastSelected._node[0];"A"===f.nodeName&&b.fire("actionView:jump",[a,f.href,f.target])}})}});return d}),define("../../cardkit/ui/modalcard",["dollar","mo/network","moui/modalview"],function(a,b,c){var d,e,f=c({className:"ck-modalview",closeDelay:400}),g={"text/darkscript":1,"text/cardscript":1,"text/jscode":1},h=f.setContent,i=f.set;return f.set=function(c){function f(a){j===d&&(c.jsonUrl&&(a=a.html),h.setContent(a),h.hideLoading())}if(!c)return this;var h=this,j=+new Date,k=c.jsonUrl||c.url;return k&&(c.content="",h.showLoading(),d=j,c.jsonUrl?b.getJSON(k,f):c.url&&b.ajax({url:k,success:f})),e=c.contentFilter,c.iframeUrl&&(c.iframe=c.iframeUrl),c.source&&(c.content=a("."+c.source).map(function(b){var c=a(b).attr("type");return g[c]?'<script type="text/darkscript">'+b.innerHTML+"</script>":b.innerHTML}).join("")),i.call(this,c)},f.setContent=function(a){return e&&(a=(new RegExp(e).exec(a)||[])[1]),h.call(this,a)},f.event.bind("confirm",function(a){a.event.fire("confirmOnThis",arguments)}).bind("close",function(a){d=0,a.event.unbind("confirmOnThis")}),f}),define("../../cardkit/ui/ranger",["moui/ranger","../../cardkit/bus","../../cardkit/ui/growl","../../cardkit/ui/util"],function(a,b,c,d){return d.singleton({flag:"_ckRangerUid",factory:function(b,c){return a(b,c)},config:function(a,b){a.set(b)},extend:function(a,d){a.notify=c({parent:d.parent(),corner:"stick"}),a.event.bind("change",function(b){a.notify.set({content:b}).open()}).bind("changed",function(){var c=d.trigger("ranger:changed",{component:a}).data("url");b.fire("ranger:changed",[a,c])}).bind("changeEnd",function(){a.notify.close()})}})}),define("../../cardkit/ui/picker",["mo/lang","moui/picker","../../cardkit/ui/util"],function(a,b,c){return c.singleton({flag:"_ckPickerUid",factory:function(a,c){return b(a,c)},defaultOptions:{options:".ck-option"},config:function(a,b){a.set(b)},extend:function(a,b){a.event.bind("change",function(a,d){var e,f=d.data(),g={component:a};a.showLoading(),e=d.isEnabled?{method:f.enableMethod,url:f.enableUrl,jsonUrl:f.enableJsonUrl}:{method:f.disableMethod,url:f.disableUrl,jsonUrl:f.disableJsonUrl},c.request({config:e,callback:function(c,d){a.hideLoading(),"success"===d&&(a.responseData=c,b.trigger("picker:response",g))}}),b.trigger("picker:change",g)})}})}),define("../../cardkit/ui/control",["mo/lang","moui/control","../../cardkit/ui/util"],function(a,b,c){var d={disableRequest:!1,enableUrl:"",enableJsonUrl:"",enableMethod:"post",disableUrl:"",disableJsonUrl:"",disableMethod:"post"},e=a.construct(b.Control);a.mix(e.prototype,{_defaults:a.mix({},e.prototype._defaults,d),enable:function(){var a=this._config;return this.request({method:a.enableMethod,url:a.enableUrl,jsonUrl:a.enableJsonUrl},function(){this.superClass.enable.call(this)})},disable:function(){var a=this._config;return this.request({method:a.disableMethod,url:a.disableUrl,jsonUrl:a.disableJsonUrl},function(){this.superClass.disable.call(this)})},request:function(a,b){var d=this,e=function(a,c){"success"===c&&(d.responseData=a),d.hideLoading(),b.call(d)};return this._config.disableRequest?e():c.request({config:a,before:function(){d.showLoading()},callback:e}),this}});var f=c.singleton({flag:"_ckControlUid",factory:function(a,b){return new f.Control(a,b)},config:function(a,b){a.set(b)},extend:function(a,b){a.event.bind("enable",function(a){b.trigger("control:enable",{component:a})}).bind("disable",function(a){b.trigger("control:disable",{component:a})})}});return f.Control=e,f}),define("../../cardkit/ui",["mo/lang","dollar","mo/browsers","mo/template","soviet","momo/base","momo/tap","../../cardkit/ui/control","../../cardkit/ui/picker","../../cardkit/ui/ranger","../../cardkit/ui/modalcard","../../cardkit/ui/actionview","../../cardkit/ui/growl","../../cardkit/supports","../../cardkit/bus"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){var a=h(this,{disableRequest:this.isMountedDarkDOM}),b=a.data();b.disableUrl||b.disableJsonUrl?a.toggle():a.isEnabled||a.enable()}function q(){h(this,{disableRequest:this.isMountedDarkDOM}).toggle()}function r(){return b(this).hasClass("ck-post-button")?void p.call(this):r.call(this.parentNode)}function s(){return b(this).hasClass("ck-switch")?void q.call(this):s.call(this.parentNode)}function t(c){var d=a.mix({confirmText:"确认",cancelText:"取消",multiselect:!1},c.data());return d.options=b(d.options||".ck-option",c),l(c,d).open()}function u(a){for(var c in a)b.Event.aliases[c]=x[c]="ck_"+a[c]}function v(){}var w=document,x={};a.mix(f.Class.prototype,{bind:function(a,c,d){return b(d||this.node).bind(a,c),this},unbind:function(a,c,d){return b(d||this.node).unbind(a,c),this},trigger:function(a,c){return delete a.layerX,delete a.layerY,delete a.returnValue,b(a.target).trigger(c,a),this}});var y={".ck-link, .ck-link *":function(){A.openLink(this)},".ck-link-direct, .ck-link-direct *":function(){A.openLink(this)},".ck-link-extern, ck-link-extern *":function(){A.openLink(this,{target:this.target||"_blank"})},".ck-link-img":function(){A.openImage(this.href)},".ck-post-link":p,".ck-post-button, .ck-post-button span":r,".ck-folder header":function(){h(this.parentNode).toggle()},".ck-switch, .ck-switch span":s,".ck-segment .ck-option, .ck-segment .ck-option span":function(){var a=b(this);a.hasClass("ck-option")||(a=a.closest(".ck-option"));var c=i(a.parent());c.select(a)},".ck-select, .ck-select span, .ck-select .enabled":function(){var a=b(this);a.hasClass("ck-select")||(a=a.parent());var c=i(a);t(a),o.on("actionView:confirmOnThis",function(a){c.select(a.val())})},".ck-tagselector .ck-option":function(){var a=i(this.parentNode);a.select(this)},".ck-actions .ck-option":function(){var a=b(this).closest(".ck-actions"),c=i(a,{ignoreStatus:"false"!==a.data("ignoreStatus")&&!0});c.select(this)},".ck-actions-button, .ck-actions-button span":function(){var a=b(this);a.hasClass("ck-actions-button")||(a=a.parent()),t(a)},".ck-modal-button, .ck-modal-button *":function(){var a=b(this);a.hasClass("ck-modal-button")||(a=a.closest(".ck-modal-button")),A.openModal(a.data())},".ck-modal-link, .ck-modal-link *":function(){var a=b(this);a.hasClass("ck-modal-link")||(a=a.closest(".ck-modal-link")),A.openModal(a.data())},".ck-modalview .wrapper > header .confirm":function(){k.confirm()},".ck-modalview .wrapper > header .cancel":function(){k.cancel()},".ck-actionview .ck-option, .ck-actionview .ck-option > *":function(){var a=b(this);a.hasClass("ck-option")||(a=a.parent()),l.current.select(a)},".ck-actionview > footer .confirm":function(){l.current.confirm()},".ck-actionview > footer .cancel":function(){l.current.cancel()},".ck-top-overflow":function(){t(b(this))},".ck-growl-button":function(){m(this).open()}};o.on("ranger:changed",function(a,b){b&&A.openLink(d.format(b,{value:a.val()}))}),o.on("actionView:jump",function(a,b,c){A.openLink(b,{target:c})});var z={control:h,picker:i,ranger:j,modalCard:k,actionView:l,growl:m},A={alert:function(b,c){l("ckAlert",a.mix({title:"提示",content:b||"",cancelText:"关闭",multiselect:!1},c)).open()},confirm:function(b,c,d){l("ckAlert",a.mix({title:"提示",content:b||"",confirmText:"确认",cancelText:"取消",multiselect:!0},d)).open(),o.on("actionView:confirmOnThis",c)},openModal:function(a){k.set(a).open()},closeModal:function(){return k.cancel(),k.event.promise("close")},openImage:function(a){A.openLink(a,{target:"_blank"})},notify:function(b,c){m(a.mix({content:b},c)).open()},showLoading:function(a){this.loadingTips||(this.loadingTips=m({expires:-1,keepalive:!0,corner:"center"})),this.loadingTips.set({content:a||"正在加载..."}).open(),this._loadingStart=+new Date},hideLoading:function(b){b=a.mix({duration:800},b);var c=+new Date-this._loadingStart;c<b.duration?setTimeout(function(){A.hideLoading(b)},b.duration-c):this.loadingTips&&this.loadingTips.close()},openLink:function(a,b){if(b=b||{},"string"!=typeof a){var c=a;a=c.href,b.target=b.target||c.target}b.target&&"_self"!==b.target?window.open(a,b.target):location.href=a}},B={init:function(a){a=a||{};var c=b(a.appWrapper);l.forceOptions.parent=c,m.forceOptions.parent=c,k.set({parent:c});var d=g(w,{tapThreshold:20});u(d.event);var e={};Object.keys(y).forEach(function(a){this[a]=v},e),this.delegate.on("tap",y).on("click",e).on("change",{".ck-ranger":function(a){return j(this).val(a.target.value),!0}}).on("touchstart",{".ck-ranger":function(a){return j(this).val(a.target.value),j(this).changeStart(),!0}}).on("touchend",{".ck-ranger":function(){return j(this).changeEnd(),!0}})},delegate:e(w,{aliasEvents:x,autoOverride:!0,matchesSelector:!0,preventDefault:!0}),action:A,component:z};return B}),define("../../cardkit/helper",["mo/lang","dollar"],function(a,b){var c={readState:function(a,b){return a&&(a.state||{})[b]},readSource:function(a){var b=a.data("source");return b&&"."+b},readLabel:function(a){var c=a.data("label");return c&&(c=a.find(c)[0]),c=b(c||a),c.text()||c.val()},isBlank:function(a){return!a||!/\S/m.test(a)}};return c}),define("../../cardkit/oldspec/common/item",["../../cardkit/helper"],function(a){var b={source:a.readSource};return{title:function(a){a.watch(".ckd-title"),a.state(b),a.state({link:"href",linkTarget:function(a){return a.hasClass("ckd-title-link-extern")&&(a.attr("target")||"_blank")},isAlone:function(a){return a.hasClass("ckd-title-link-alone")}})},titleLink:function(a){a.watch(".ckd-title-link"),a.state(b),a.state({link:"href",linkTarget:function(a){return a.hasClass("ckd-title-link-extern")&&(a.attr("target")||"_blank")},isAlone:function(a){return a.hasClass("ckd-title-link-alone")}})},titlePrefix:function(a){a.watch(".ckd-title-prefix"),a.state(b)},titleSuffix:function(a){a.watch(".ckd-title-suffix"),a.state(b)},titleTag:function(a){a.watch(".ckd-title-tag"),a.state(b)},icon:function(a){a.watch(".ckd-icon"),a.state(b),a.state({imgUrl:"src"})},info:function(a){a.watch(".ckd-info"),a.state(b)},opt:function(a){a.watch(".ckd-opt"),a.state(b)},desc:function(a){a.watch(".ckd-desc, .ckd-subtitle"),a.state(b)},content:function(a){a.watch(".ckd-content"),a.state(b)},meta:function(a){a.watch(".ckd-meta"),a.state(b)},author:function(a){a.watch(".ckd-author"),a.state(b),a.state({link:"href",linkTarget:function(a){return a.hasClass("ckd-author-link-extern")&&(a.attr("target")||"_blank")}})},authorLink:function(a){a.watch(".ckd-author-link"),a.state(b),a.state({link:"href",linkTarget:function(a){return a.hasClass("ckd-author-link-extern")&&(a.attr("target")||"_blank")}})},authorPrefix:function(a){a.watch(".ckd-author-prefix"),a.state(b)},authorSuffix:function(a){a.watch(".ckd-author-suffix"),a.state(b)},avatar:function(a){a.watch(".ckd-avatar"),a.state(b),a.state({imgUrl:"src"})},authorInfo:function(a){a.watch(".ckd-author-info"),a.state(b)},authorDesc:function(a){a.watch(".ckd-author-desc"),a.state(b)},authorMeta:function(a){a.watch(".ckd-author-meta"),a.state(b)}}}),define("../../cardkit/oldspec/common/scaffold",["../../cardkit/helper"],function(a){var b={source:a.readSource};return{hd:function(a){a.watch(".ckd-hd"),a.state(b),a.state({link:"href",linkTarget:function(a){return a.hasClass("ckd-hd-link-extern")&&(a.attr("target")||"_blank")}})},hdLink:function(a){a.watch(".ckd-hd-link:not(.ckd-hd)"),a.state(b),a.state({link:"href",linkTarget:function(a){return a.hasClass("ckd-hd-link-extern")&&(a.attr("target")||"_blank")}})},hdOpt:function(a){a.watch(".ckd-hdopt"),a.state(b)},ft:function(a){a.watch(".ckd-ft")},blank:function(a){a.watch(".ckd-blank")}}}),define("../../cardkit/spec/common/source_item",["../../cardkit/oldspec/common/item"],function(a,b){return b("../../cardkit/oldspec/common/item")}),define("../../cardkit/spec/common/item",[],function(){return{title:function(a){a.watch('ck-part[type="title"]'),a.state({link:"href",linkTarget:"target",isAlone:"alone-mode"})},titleLink:function(a){a.watch('ck-part[type="titleLink"]'),a.state({link:"href",linkTarget:"target",isAlone:"alone-mode"})},titlePrefix:'ck-part[type="titlePrefix"]',titleSuffix:'ck-part[type="titleSuffix"]',titleTag:'ck-part[type="titleTag"]',icon:function(a){a.watch('ck-part[type="icon"]'),a.state({imgUrl:"src"})},info:'ck-part[type="info"]',opt:function(a){a.watch('ck-part[type="opt"]')},desc:'ck-part[type="desc"]',content:'ck-part[type="content"]',meta:'ck-part[type="meta"]',author:function(a){a.watch('ck-part[type="author"]'),a.state({link:"href",linkTarget:"target"})},authorLink:function(a){a.watch('ck-part[type="authorLink"]'),a.state({link:"href",linkTarget:"target"})},authorPrefix:'ck-part[type="authorPrefix"]',authorSuffix:'ck-part[type="authorSuffix"]',avatar:function(a){a.watch('ck-part[type="avatar"]'),a.state({imgUrl:"src"})},authorInfo:'ck-part[type="authorInfo"]',authorDesc:'ck-part[type="authorDesc"]',authorMeta:'ck-part[type="authorMeta"]'}}),define("../../cardkit/spec/common/source_scaffold",["../../cardkit/oldspec/common/scaffold"],function(a,b){return b("../../cardkit/oldspec/common/scaffold")}),define("../../cardkit/spec/common/scaffold",[],function(){return{hd:function(a){a.watch('ck-part[type="hd"]'),a.state({link:"href",linkTarget:"target"})},hdLink:function(a){a.watch('ck-part[type="hdLink"]'),a.state({link:"href",linkTarget:"target"})},hdOpt:function(a){a.watch('ck-part[type="hdOpt"]')},ft:function(a){a.watch('ck-part[type="ft"]')},blank:function(a){a.watch('ck-part[type="blank"]')}}}),define("../../cardkit/spec/list",["dollar","../../cardkit/spec/common/scaffold","../../cardkit/spec/common/source_scaffold","../../cardkit/spec/common/item","../../cardkit/spec/common/source_item"],function(a,b,c,d,e){function f(a){a.watch(".ckd-item"),a.state(j),a.component(e)}function g(a){a.state({subtype:"subtype",blankText:"blank-text",limit:"limit",col:"col",paperStyle:"paper-style",plainStyle:"plain-style",plainHdStyle:"plain-hd-style"}),a.component(b),a.component("item",function(a){a.watch('ck-part[type="item"]'),a.state({link:"href",linkTarget:"target",isAlone:"alone-mode"}),a.component(d),a.source().component(e)}),a.source().component(c),a.source().component("item",f)}function h(b,c){b.watch(a(i,c)),g(b)}var i='ck-card[type="list"]',j={link:"href",linkTarget:function(a){return a.hasClass("ckd-title-link-extern")&&(a.attr("target")||"_blank")},isAlone:function(a){return a.hasClass("ckd-title-link-alone")}};return h.sourceItemStates=j,h.sourceItemSpec=f,h.initList=g,h}),define("../../cardkit/oldspec/list",["dollar","../../cardkit/helper","../../cardkit/spec/list","../../cardkit/oldspec/common/scaffold","../../cardkit/oldspec/common/item"],function(a,b,c,d,e){function f(a){a.state({subtype:"data-style",blankText:"data-cfg-blank",limit:"data-cfg-limit",col:"data-cfg-col",paperStyle:"data-cfg-paper",plainStyle:"data-cfg-plain",plainHdStyle:"data-cfg-plainhd"}),a.state(h),a.component(d),a.component("item",function(a){a.watch(".ckd-item"),a.state(h),a.state(i),a.component(e),a.source().component(e)}),a.source().component(d),a.source().component("item",j)}function g(b,c){b.watch(a(k,c)),b.watch(a(l,c)),f(b)}var h={source:b.readSource},i=c.sourceItemStates,j=c.sourceItemSpec,k=".ck-list-card",l=".ck-list-unit";return g.initList=f,g}),define("../../cardkit/oldspec/box",["dollar","../../cardkit/helper","../../cardkit/oldspec/common/scaffold"],function(a,b,c){var d={source:b.readSource},e=".ck-box-card",f=".ck-box-unit";return function(b,g){b.watch(a(e,g)),b.watch(a(f,g)),b.state({subtype:"data-style",paperStyle:"data-cfg-paper",plainStyle:"data-cfg-plain",plainHdStyle:"data-cfg-plainhd"}),b.component(c),b.component("content",function(a){a.watch(".ckd-content"),a.state(d)}),b.source().component(c),b.source().component("content",".ckd-content")}}),define("../../cardkit/spec/form",["dollar","../../cardkit/spec/common/scaffold","../../cardkit/spec/common/source_scaffold"],function(a,b,c){function d(a){a.watch(".ckd-item"),a.component("content",".ckd-content")}function e(e,g){e.watch(a(f,g)),e.state({subtype:"subtype",blankText:"blank-text",plainHdStyle:"plain-hd-style"}),e.component(b),e.component("item",function(a){a.watch('ck-part[type="item"]'),a.component("content",'ck-part[type="content"]'),a.source().component("content",".ckd-content")}),e.source().component(c),e.source().component("item",d)}var f='ck-card[type="form"]';return e.sourceItemSpec=d,e}),define("../../cardkit/oldspec/form",["dollar","../../cardkit/helper","../../cardkit/spec/form","../../cardkit/oldspec/common/scaffold"],function(a,b,c,d){var e={source:b.readSource},f=c.sourceItemSpec,g=".ck-form-card",h=".ck-form-unit";return function(b,c){b.watch(a(g,c)),b.watch(a(h,c)),b.state({subtype:"data-style",blankText:"data-cfg-blank",plainHdStyle:"data-cfg-plainhd"}),b.component(d),b.component("item",function(a){a.watch(".ckd-item"),a.component("content",function(a){a.watch(".ckd-content"),a.state(e)}),a.source().component("content",".ckd-content")}),b.source().component(d),b.source().component("item",f)}}),define("../../cardkit/oldspec/mini",["dollar","../../cardkit/oldspec/list"],function(a,b){var c=".ck-mini-card",d=".ck-mini-unit";return function(e,f){e.watch(a(c,f)),e.watch(a(d,f)),b.initList(e)}}),define("../../cardkit/spec/mini",["dollar","../../cardkit/spec/list"],function(a,b){var c='ck-card[type="mini"]';return function(d,e){d.watch(a(c,e)),b.initList(d)}}),define("../../cardkit/spec/box",["dollar","../../cardkit/spec/common/scaffold","../../cardkit/spec/common/source_scaffold"],function(a,b,c){var d='ck-card[type="box"]';return function(e,f){e.watch(a(d,f)),e.state({subtype:"subtype",paperStyle:"paper-style",plainStyle:"plain-style",plainHdStyle:"plain-hd-style"}),e.component(b),e.component("content",'ck-part[type="content"]'),e.source().component(c),e.source().component("content",".ckd-content")}}),define("../../cardkit/spec/page",["dollar","darkdom","../../cardkit/helper","../../cardkit/spec/box","../../cardkit/spec/list","../../cardkit/spec/mini","../../cardkit/spec/form"],function(a,b,c,d,e,f,g,h){function i(a){a.watch('ck-part[type="blank"]')}function j(a){a.watch('ck-part[type="nav"]'),a.state({link:"href"})}function k(a){a.watch('ck-part[type="banner"]'),a.state({plainStyle:"plain-style"})}function l(a){a.watch('ck-part[type="actionbar"]'),a.state({limit:"limit"}),a.component("action",m),a.source().component("action",n)}function m(a){a.watch("[action-layout]"),a.state({label:t.readLabel,forceOverflow:function(a){return"overflow"===a.attr("action-layout")}}),o(a.source()),q.forwardActionbar(a)}function n(a){a.watch(".ckd-item, .ckd-overflow-item"),o(a)}function o(a){a&&a.state({label:t.readLabel,forceOverflow:function(a){return a.hasClass("ckd-overflow-item")}})}function p(a){var b=s.getDarkById(a.target.parentNode.id);b&&b.trigger("tap").updateDarkDOM()}function q(a,b){a.watch(r(q.SELECTOR+u,b)),a.state({blankText:"blank-text",deck:"deck",isPageActive:"active-page",isDeckActive:"active-deck",currentDeck:"current-deck",cardId:"id"}),a.component(v)}var r=h("dollar"),s=h("darkdom"),t=h("../../cardkit/helper"),u=".unmount-page",v={title:'ck-part[type="title"]',actionbar:l,nav:j,banner:k,footer:'ck-part[type="footer"]',blank:i,box:h("../../cardkit/spec/box"),list:h("../../cardkit/spec/list"),mini:h("../../cardkit/spec/mini"),form:h("../../cardkit/spec/form")};return q.SELECTOR='ck-card[type="page"]',q.initOldStyleActionState=o,q.forwardActionbar=function(a){a.forward({"overflows:confirm":function(a){var b=a.component.val(),c=r("#"+b).children();c.trigger("tap")},"control:enable":p,"control:disable":p})},q}),define("../../cardkit/oldspec/page",["dollar","../../cardkit/spec/page","../../cardkit/helper","../../cardkit/oldspec/box","../../cardkit/oldspec/list","../../cardkit/oldspec/mini","../../cardkit/oldspec/form"],function(a,b,c,d,e,f,g,h){function i(a){a.watch(".ckcfg-card-blank")}function j(a){a.watch(".ckcfg-card-nav"),a.state({link:"href"})}function k(a){a.watch(".ckcfg-card-banner"),a.watch(".ck-banner-unit"),a.state({plainStyle:"data-cfg-plain"})}function l(a){a.watch(".ckcfg-card-actions"),a.state({limit:"data-cfg-limit",source:r.readSource}),a.component("action",n),a.source().component("action",n),q.forwardActionbar(a)}function m(a){a.watch(".ckcfg-card-footer"),a.state("source",r.readSource)}function n(a){a.watch(".ckd-item, .ckd-overflow-item"),a.state("source",r.readSource),s(a),s(a.source())}function o(a,b){a.watch(p(o.SELECTOR+t,b)),a.watch(p(o.SELECTOR_OLD+t,b)),a.state({blankText:"data-cfg-blank",deck:"data-cfg-deck",isPageActive:"data-active-page",isDeckActive:"data-active-deck",currentDeck:"data-current-deck",cardId:"id"}),a.component(u)}var p=h("dollar"),q=h("../../cardkit/spec/page"),r=h("../../cardkit/helper"),s=q.initOldStyleActionState,t=".unmount-page",u={title:".ckcfg-card-title",actionbar:l,nav:j,banner:k,footer:m,blank:i,box:h("../../cardkit/oldspec/box"),list:h("../../cardkit/oldspec/list"),mini:h("../../cardkit/oldspec/mini"),form:h("../../cardkit/oldspec/form")};return o.SELECTOR=".ck-page-card",o.SELECTOR_OLD=".ck-card",o}),define("../../cardkit/oldspec",["../../cardkit/oldspec/page","../../cardkit/oldspec/box","../../cardkit/oldspec/list"],function(a,b,c,d){return{page:[d("../../cardkit/oldspec/page")],box:[d("../../cardkit/oldspec/box")],list:[d("../../cardkit/oldspec/list")]}}),define("../../cardkit/tpl/scaffold/ft",[],function(){return{template:"<footer>{%= content %}</footer>\n"}}),define("../../cardkit/tpl/scaffold/hd_opt",[],function(){return{template:'<span class="ck-hdopt">{%= content %}</span>\n'}}),define("../../cardkit/tpl/scaffold/hd",[],function(){return{template:'<span class="ck-hd {%= (hdLink && \'clickable\' || \'\') %}">\n    {% if (hdLink) { %}\n    <a href="{%= hdLink %}" \n        target="{%= (hdLinkTarget || \'_self\') %}" \n        class="ck-link-mask ck-link"></a>\n    {% } %}\n    <span>{%= content %}</span>\n</span>\n'}}),define("../../cardkit/card/common/scaffold",["darkdom","mo/template/micro","../../cardkit/helper","../../cardkit/tpl/scaffold/hd","../../cardkit/tpl/scaffold/hd_opt","../../cardkit/tpl/scaffold/ft"],function(a,b,c,d,e,f,g){var h=g("darkdom"),i=g("mo/template/micro").convertTpl,j=g("../../cardkit/helper"),k=i(g("../../cardkit/tpl/scaffold/hd").template),l=i(g("../../cardkit/tpl/scaffold/hd_opt").template),m=i(g("../../cardkit/tpl/scaffold/ft").template),n={hd:function(){return h({unique:!0,enableSource:!0,render:function(a){var b=a.context.componentData.hdLink,c=j.readState(b,"link");return a.hdLink=c||a.state.link,a.hdLinkTarget=c?j.readState(b,"linkTarget"):a.state.linkTarget,k(a)}})},hdLink:function(){return h({unique:!0,enableSource:!0,render:function(a){return a.state.link}})},hdOpt:function(){return h({enableSource:!0,entireAsContent:!0,render:l})},ft:function(){return h({unique:!0,enableSource:!0,render:m})},blank:function(){return h({unique:!0,enableSource:!0,render:function(a){return"<div>"+a.content+"</div>"}})}};return n}),define("../../cardkit/tpl/item/author_meta",[],function(){return{template:'<span class="ck-author-meta">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/author_info",[],function(){return{template:'<span class="ck-author-info">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/author_desc",[],function(){return{template:'<span class="ck-author-desc">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/avatar",[],function(){return{template:'{% if (state.imgUrl) { %}\n    {% if (context.authorLink) { %}\n    <a href="{%= context.authorLink %}" \n            target="{%= (context.authorLinkTarget || \'_self\') %}" \n            class="ck-avatar ck-link">\n        <img src="{%= state.imgUrl %}"/>\n    </a>\n    {% } else { %}\n    <span class="ck-avatar">\n        <img src="{%= state.imgUrl %}"/>\n    </span>\n    {% } %}\n{% } %}\n'}}),define("../../cardkit/tpl/item/author_suffix",[],function(){return{template:'<span class="ck-author-suffix">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/author_prefix",[],function(){return{template:'<span class="ck-author-prefix">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/author",[],function(){return{template:'{% if (context.authorLink) { %}\n<a href="{%= context.authorLink %}" \n    target="{%= (context.authorLinkTarget || \'_self\') %}" \n    class="ck-author ck-link">{%= content %}</a>\n{% } else { %}\n<span class="ck-author">{%= content %}</span>\n{% } %}\n'}}),define("../../cardkit/tpl/item/meta",[],function(){return{template:'<span class="ck-meta">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/content",[],function(){return{template:'<span class="ck-content">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/opt",[],function(){return{template:'<span class="ck-opt">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/info",[],function(){return{template:'<span class="ck-info">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/desc",[],function(){return{template:'<span class="ck-desc">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/icon",[],function(){return{template:'{% if (state.imgUrl) { %}\n    {% if (context.isItemLinkAlone) { %}\n    <a href="{%= context.itemLink %}" \n            target="{%= (context.itemLinkTarget || \'_self\') %}" \n            class="ck-icon ck-link">\n        <img src="{%= state.imgUrl %}"/>\n    </a>\n    {% } else { %}\n    <span class="ck-icon">\n        <img src="{%= state.imgUrl %}"/>\n    </span>\n    {% } %}\n{% } %}\n'}}),define("../../cardkit/tpl/item/title_tag",[],function(){return{template:'<span class="ck-tag">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/title_suffix",[],function(){return{template:'<span class="ck-title-suffix">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/title_prefix",[],function(){return{template:'<span class="ck-title-prefix">{%= content %}</span>\n'}}),define("../../cardkit/tpl/item/title",[],function(){return{template:'{% if (context.isItemLinkAlone) { %}\n<a href="{%= context.itemLink %}" \n    class="ck-link"\n    target="{%= (context.itemLinkTarget || \'_self\') %}">{%= content %}</a>\n{% } else { %}\n<span class="ck-title">{%= content %}</span>\n{% } %}\n\n'}}),define("../../cardkit/tpl/item",[],function(){return{template:'<div class="ck-item {%= (itemLink && \'clickable\' || \'\') %}" \n        style="width:{%= (context.state.col ? Math.floor(1000/context.state.col)/10 + \'%\' : \'\') %};">\n\n    <div class="ck-initem">\n\n        {% if (itemLink && !isItemLinkAlone) { %}\n        <a href="{%= itemLink %}" \n            target="{%= (itemLinkTarget || \'_self\') %}"\n            class="ck-link-mask ck-link"></a>\n        {% } %}\n\n        <div class="ck-title-box">\n\n            {%= component.opt.join(\'\') %}\n            {%= component.icon %}\n\n            <div class="ck-title-set">\n\n                {% if (itemContent) { %}\n                <div class="ck-title-line">\n                    {%= component.titlePrefix.join(\'\') %}\n                    {%= itemContent %}\n                    {%= component.titleSuffix.join(\'\') %}\n                    {%= component.titleTag.join(\'\') %}\n                </div>\n                {% } %}\n\n                {% if (component.info.length) { %}\n                <div class="ck-info-wrap">\n                    {%= component.info.join(\'\') %}\n                </div>\n                {% } %}\n\n                {% if (component.desc.length) { %}\n                <div class="ck-desc-wrap">\n                    {%= component.desc.join(\'\') %}\n                </div>\n                {% } %}\n\n            </div>\n\n            {% if (component.content.length) { %}\n            <div class="ck-content-wrap">\n                {%= component.content.join(\'\') %}\n            </div>\n            {% } %}\n\n            {% if (component.meta.length) { %}\n            <div class="ck-meta-wrap">\n                {%= component.meta.join(\'\') %}\n            </div>\n            {% } %}\n\n        </div>\n\n        {% if (component.author || component.authorDesc.length || component.authorMeta.length) { %}\n        <div class="ck-author-box">\n\n            {%= component.avatar %}\n\n            <div class="ck-author-set">\n\n                <div class="ck-author-line">\n                    {%= component.authorPrefix.join(\'\') %}\n                    {%= component.author %}\n                    {%= component.authorSuffix.join(\'\') %}\n                </div>\n\n                {% if (component.authorInfo.length) { %}\n                <div class="ck-author-info-wrap">\n                    {%= component.authorInfo.join(\'\') %}\n                </div>\n                {% } %}\n\n                {% if (component.authorDesc.length) { %}\n                <div class="ck-author-desc-wrap">\n                    {%= component.authorDesc.join(\'\') %}\n                </div>\n                {% } %}\n\n            </div>\n\n            {% if (component.authorMeta.length) { %}\n            <div class="ck-author-meta-wrap">\n                {%= component.authorMeta.join(\'\') %}\n            </div>\n            {% } %}\n\n        </div>\n        {% } %}\n\n    </div>\n\n</div>\n\n'}}),define("../../cardkit/card/item",["darkdom","mo/lang/mix","mo/template/micro","../../cardkit/helper","../../cardkit/tpl/item","../../cardkit/tpl/item/title","../../cardkit/tpl/item/title_prefix","../../cardkit/tpl/item/title_suffix","../../cardkit/tpl/item/title_tag","../../cardkit/tpl/item/icon","../../cardkit/tpl/item/desc","../../cardkit/tpl/item/info","../../cardkit/tpl/item/opt","../../cardkit/tpl/item/content","../../cardkit/tpl/item/meta","../../cardkit/tpl/item/author","../../cardkit/tpl/item/author_prefix","../../cardkit/tpl/item/author_suffix","../../cardkit/tpl/item/avatar","../../cardkit/tpl/item/author_desc","../../cardkit/tpl/item/author_info","../../cardkit/tpl/item/author_meta"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x=w("darkdom"),y=w("mo/lang/mix"),z=w("mo/template/micro").convertTpl,A=w("../../cardkit/helper"),B=z(w("../../cardkit/tpl/item").template),C=z(w("../../cardkit/tpl/item/title").template),D=z(w("../../cardkit/tpl/item/title_prefix").template),E=z(w("../../cardkit/tpl/item/title_suffix").template),F=z(w("../../cardkit/tpl/item/title_tag").template),G=z(w("../../cardkit/tpl/item/icon").template),H=z(w("../../cardkit/tpl/item/desc").template),I=z(w("../../cardkit/tpl/item/info").template),J=z(w("../../cardkit/tpl/item/opt").template),K=z(w("../../cardkit/tpl/item/content").template),L=z(w("../../cardkit/tpl/item/meta").template),M=z(w("../../cardkit/tpl/item/author").template),N=z(w("../../cardkit/tpl/item/author_prefix").template),O=z(w("../../cardkit/tpl/item/author_suffix").template),P=z(w("../../cardkit/tpl/item/avatar").template),Q=z(w("../../cardkit/tpl/item/author_desc").template),R=z(w("../../cardkit/tpl/item/author_info").template),S=z(w("../../cardkit/tpl/item/author_meta").template),T={title:function(){return x({unique:!0,enableSource:!0,render:C})
},titleLink:function(){return x({unique:!0,enableSource:!0,render:function(a){return a.state.link}})},titlePrefix:function(){return x({enableSource:!0,sourceAsContent:!0,render:D})},titleSuffix:function(){return x({enableSource:!0,sourceAsContent:!0,render:E})},titleTag:function(){return x({enableSource:!0,render:F})},icon:function(){return x({unique:!0,enableSource:!0,render:G})},desc:function(){return x({enableSource:!0,sourceAsContent:!0,render:H})},info:function(){return x({enableSource:!0,sourceAsContent:!0,render:I})},opt:function(){return x({enableSource:!0,entireAsContent:!0,render:J})},content:function(){return x({enableSource:!0,sourceAsContent:!0,render:K})},meta:function(){return x({enableSource:!0,sourceAsContent:!0,render:L})},author:function(){return x({unique:!0,enableSource:!0,render:M})},authorLink:function(){return x({unique:!0,enableSource:!0,render:function(a){return a.state.link}})},authorPrefix:function(){return x({enableSource:!0,sourceAsContent:!0,render:N})},authorSuffix:function(){return x({enableSource:!0,sourceAsContent:!0,render:O})},avatar:function(){return x({unique:!0,enableSource:!0,render:P})},authorDesc:function(){return x({enableSource:!0,sourceAsContent:!0,render:Q})},authorInfo:function(){return x({enableSource:!0,sourceAsContent:!0,render:R})},authorMeta:function(){return x({enableSource:!0,sourceAsContent:!0,render:S})},item:function(){var a=x({enableSource:!0,render:function(a){var b=A.readState,c=a.state,d=a.component,e=a.componentData,f=d.titleLink?e.titleLink:e.title;a.itemLinkTarget=b(f,"linkTarget")||c.linkTarget,a.isItemLinkAlone=b(f,"isAlone")||c.isAlone,a.itemLink=d.titleLink||b(e.title,"link")||c.link,a.itemContent=d.title||a.content;var g=d.authorLink?e.authorLink:e.author;return a.authorLinkTarget=b(g,"linkTarget"),a.authorLink=d.authorLink||b(e.author,"link"),B(a)}}),b=y.copy(T);return delete b.item,a.contain(b),a}};return T}),define("../../cardkit/tpl/list",[],function(){return{template:"<div class=\"ck-list-card{%= (state.blankText === 'false' ? ' no-blank' : '') %}\"\n        data-style=\"{%= state.subtype %}\"\n        {%= state.col ? 'data-cfg-col=\"' + state.col + '\" ' : '' %}\n        {%= state.paperStyle ? 'data-cfg-paper=\"true\" ' : '' %}\n        {%= state.plainStyle ? 'data-cfg-plain=\"true\" ' : '' %}\n        {%= state.plainHdStyle ? 'data-cfg-plainhd=\"true\" ' : '' %}>\n\n    {% if (hasSplitHd) { %}\n        {%= hdwrap %}\n    {% } %}\n\n    <article class=\"ck-card-wrap\">\n\n        {% if (!hasSplitHd) { %}\n            {%= hdwrap %}\n        {% } %}\n        \n        <div class=\"ck-list-wrap\">\n\n            {% if (component.item.length) { %}\n\n                <div class=\"ck-list\">\n                {% component.item.forEach(function(item, i){ %}\n\n                    {% if (i && (i % state.col === 0)) { %}\n                    </div><div class=\"ck-list\">\n                    {% } %}\n\n                    {%= item %}\n\n                {% }); %}\n                </div>\n\n            {% } else { %}\n\n                <div class=\"ck-list\">\n                    <div class=\"ck-item blank\">\n                        <div class=\"ck-initem\">\n                        {% if (component.blank) { %}\n                            {%= component.blank %}\n                        {% } else { %}\n                            {%=(state.blankText || '目前还没有内容')%}\n                        {% } %}\n                        </div>\n                    </div>\n                </div>\n\n            {% } %}\n\n        </div>\n\n        {%= component.ft %}\n\n    </article>\n\n</div>\n\n"}}),define("../../cardkit/tpl/scaffold/hdwrap",[],function(){return{template:'\n{% if (component.hd) { %}\n<header class="ck-hd-wrap">\n\n    {%= component.hd %}\n\n    {% if (component.hdOpt.length) { %}\n        <div class="ck-hdopt-wrap">\n            {%= component.hdOpt.join(\'\') %}\n        </div>\n    {% } %}\n\n</header>\n{% } %}\n'}}),define("../../cardkit/card/list",["darkdom","mo/template/micro","../../cardkit/tpl/scaffold/hdwrap","../../cardkit/tpl/list","../../cardkit/card/item","../../cardkit/card/common/scaffold"],function(a,b,c,d,e,f,g){var h=g("darkdom"),i=g("mo/template/micro").convertTpl,j=i(g("../../cardkit/tpl/scaffold/hdwrap").template),k=i(g("../../cardkit/tpl/list").template),l=g("../../cardkit/card/item"),m=g("../../cardkit/card/common/scaffold"),n={item:l.item,list:function(){var a=h({enableSource:!0,render:function(a){var b=a.state;return a.hasSplitHd="true"===b.plainStyle||"true"===b.plainHdStyle||"split"===b.subtype,a.hdwrap=j(a),k(a)}});return a.contain(m),a.contain("item",n.item),a}};return n}),define("../../cardkit/tpl/box",[],function(){return{template:"<div class=\"ck-box-card\"\n        data-style=\"{%= state.subtype %}\"\n        {%= state.paperStyle ? 'data-cfg-paper=\"true\" ' : '' %}\n        {%= state.plainStyle ? 'data-cfg-plain=\"true\" ' : '' %}\n        {%= state.plainHdStyle ? 'data-cfg-plainhd=\"true\" ' : '' %}>\n\n    {% if (hasSplitHd) { %}\n        {%= hdwrap %}\n    {% } %}\n\n    <article class=\"ck-card-wrap\">\n\n        {% if (!hasSplitHd) { %}\n            {%= hdwrap %}\n        {% } %}\n\n        {% if (!isBlank) { %}\n            <section>{%= content %}</section>\n        {% } %}\n\n        {%= component.ft %}\n\n    </article>\n\n</div>\n"}}),define("../../cardkit/tpl/box/content",[],function(){return{template:'<div class="ck-content">{%= content %}</div>\n'}}),define("../../cardkit/card/box",["darkdom","mo/template/micro","../../cardkit/helper","../../cardkit/tpl/box/content","../../cardkit/tpl/scaffold/hdwrap","../../cardkit/tpl/box","../../cardkit/card/common/scaffold"],function(a,b,c,d,e,f,g,h){var i=h("darkdom"),j=h("mo/template/micro").convertTpl,k=h("../../cardkit/helper"),l=j(h("../../cardkit/tpl/box/content").template),m=j(h("../../cardkit/tpl/scaffold/hdwrap").template),n=j(h("../../cardkit/tpl/box").template),o=h("../../cardkit/card/common/scaffold"),p={content:function(){return i({enableSource:!0,sourceAsContent:!0,render:l})},box:function(){var a=i({enableSource:!0,render:function(a){return a.isBlank=k.isBlank(a.content),a.hasSplitHd="true"===a.state.plainStyle||"true"===a.state.plainHdStyle,a.hdwrap=m(a),n(a)}});return a.contain(o),a.contain("content",p.content,{content:!0}),a}};return p}),define("../../cardkit/tpl/form",[],function(){return{template:"<div class=\"ck-form-card{%= (state.blankText === 'false' ? ' no-blank' : '') %}\"\n        data-style=\"{%= state.subtype %}\"\n        {%= state.plainHdStyle ? 'data-cfg-plainhd=\"true\" ' : '' %}>\n\n    {% if (hasSplitHd) { %}\n        {%= hdwrap %}\n    {% } %}\n\n    <article class=\"ck-card-wrap\">\n\n        {% if (!hasSplitHd) { %}\n            {%= hdwrap %}\n        {% } %}\n\n        {% if (component.item.length) { %}\n            {% component.item.forEach(function(item){ %}\n                {%= item %}\n            {% }); %}\n        {% } else { %}\n            <div class=\"ck-item blank\">\n            {% if (component.blank) { %}\n                {%= component.blank %}\n            {% } else { %}\n                {%=(state.blankText || '目前还没有内容')%}\n            {% } %}\n            </div>\n        {% } %}\n\n        {%= component.ft %}\n\n    </article>\n\n</div>\n"}}),define("../../cardkit/tpl/form/item",[],function(){return{template:'<div class="ck-item">{%= content %}</div>\n'}}),define("../../cardkit/card/form",["darkdom","mo/template/micro","../../cardkit/tpl/form/item","../../cardkit/tpl/box/content","../../cardkit/tpl/scaffold/hdwrap","../../cardkit/tpl/form","../../cardkit/card/common/scaffold"],function(a,b,c,d,e,f,g,h){var i=h("darkdom"),j=h("mo/template/micro").convertTpl,k=j(h("../../cardkit/tpl/form/item").template),l=j(h("../../cardkit/tpl/box/content").template),m=j(h("../../cardkit/tpl/scaffold/hdwrap").template),n=j(h("../../cardkit/tpl/form").template),o=h("../../cardkit/card/common/scaffold"),p={content:function(){return i({enableSource:!0,sourceAsContent:!0,render:l})},item:function(){return i({enableSource:!0,render:k}).contain("content",p.content,{content:!0})},form:function(){var a=i({enableSource:!0,render:function(a){return a.hasSplitHd="true"===a.state.plainStyle||"true"===a.state.plainHdStyle,a.hdwrap=m(a),n(a)}});return a.contain(o),a.contain("item",p.item),a}};return p}),define("../../cardkit/tpl/mini",[],function(){return{template:'<div class="ck-mini-card{%= (state.blankText === \'false\' ? \' no-blank\' : \'\') %}"\n        data-style="{%= state.subtype %}">\n\n    {% if (hasSplitHd) { %}\n        {%= hdwrap %}\n    {% } %}\n\n    <article class="ck-card-wrap {%= (component.item.length > 1 ? \'slide\' : \'\') %}">\n\n        {% if (!hasSplitHd) { %}\n            {%= hdwrap %}\n        {% } %}\n        \n        <div class="ck-list-wrap">\n\n            {% if (component.item.length) { %}\n\n                <div class="ck-list" style="width:{%= listWidth %};">\n                {% component.item.forEach(function(item){ %}\n                    <div class="ck-col" style="width:{%= itemWidth %};">\n                        {%= item %}\n                    </div>\n                {% }); %}\n                </div>\n\n            {% } else { %}\n\n                <div class="ck-list">\n                    <div class="ck-item blank">\n                        <div class="ck-initem">\n                        {% if (component.blank) { %}\n                            {%= component.blank %}\n                        {% } else { %}\n                            {%=(state.blankText || \'目前还没有内容\')%}\n                        {% } %}\n                        </div>\n                    </div>\n                </div>\n\n            {% } %}\n\n        </div>\n\n        {%= component.ft %}\n\n    </article>\n\n</div>\n\n'}}),define("../../cardkit/card/mini",["darkdom","mo/template/micro","../../cardkit/tpl/scaffold/hdwrap","../../cardkit/tpl/mini","../../cardkit/card/item","../../cardkit/card/common/scaffold"],function(a,b,c,d,e,f,g){var h=g("darkdom"),i=g("mo/template/micro").convertTpl,j=i(g("../../cardkit/tpl/scaffold/hdwrap").template),k=i(g("../../cardkit/tpl/mini").template),l=g("../../cardkit/card/item"),m=g("../../cardkit/card/common/scaffold"),n={item:l.item,mini:function(){var a=h({enableSource:!0,render:function(a){a.hasSplitHd=!0,a.hdwrap=j(a);var b=a.component.item.length;return a.listWidth=b>1?100*b*.94+"%":"",a.itemWidth=Math.floor(1e3/b)/10+"%",k(a)}});return a.contain(m),a.contain("item",n.item),a}};return n}),define("../../cardkit/tpl/page",[],function(){return{template:'\n<div class="ck-page-card{%= !hasHeader ? \' no-header\' : \'\' %}{%= !component.banner || componentData.banner.isBlank ? \'\' : \' with-banner\' %}" \n        data-style="{%= state.subtype %}"\n        data-page-active="{%= state.isPageActive || \'false\' %}"\n        data-deck-active="{%= state.isDeckActive || \'false\' %}"\n        data-deck="{%= (state.deck || \'main\') %}"\n        data-curdeck="{%= state.currentDeck %}"\n        data-cardid="{%= state.cardId %}">\n\n    {% if (hasHeader) { %}\n    <div class="ck-header">\n        {%= component.nav %}\n        {%= component.title %}\n        {%= component.actionbar %}\n    </div>\n    {% } %}\n\n    {%= component.banner %}\n\n    <div class="ck-article">\n        {% if (!isBlank) { %}\n            {%= content %}\n        {% } else { %}\n            <div class="ck-blank-card">\n                <article class="ck-card-wrap">\n                    {% if (component.blank) { %}\n                        {%= component.blank %}\n                    {% } else { %}\n                        <div>{%=(state.blankText || \'目前还没有内容\')%}</div>\n                    {% } %}\n                </article>\n            </div>\n        {% } %}\n    </div>\n\n    {% if (component.footer) { %}\n    <div class="ck-footer">{%= component.footer %}</div>\n    {% } %}\n\n    <a class="ck-page-link-mask ck-link" href="#{%= state.cardId %}"></a>\n\n</div>\n\n'}}),define("../../cardkit/tpl/page/actionbar/action",[],function(){return{template:'\n<span class="ck-item">\n    <button type="button" class="ck-option" \n        value="{%= id %}">{%= state.label %}</button>\n    {%= content %}\n</span>\n'}}),define("../../cardkit/tpl/page/actionbar",[],function(){return{template:'<div class="ck-top-actions">\n\n    {% if (overflowActions.length) { %}\n    <span class="ck-top-overflow"\n            data-title="More actions...">\n        {% overflowActions.forEach(function(action){ %}\n            {%= action %}\n        {% }); %}\n    </span>\n    {% } %}\n\n    {% visibleActions.forEach(function(action){ %}\n        {%= action %}\n    {% }); %}\n\n</div>\n'}}),define("../../cardkit/tpl/page/banner",[],function(){return{template:'<div class="ck-top-banner"\n        {%= state.plainStyle ? \'data-cfg-plain="true" \' : \'\' %}>\n    <div class="ck-top-banner-inner">{%= content %}</div>\n</div>\n'}}),define("../../cardkit/tpl/page/nav",[],function(){return{template:'{% if (content) { %}\n<span class="ck-top-nav">{%= content %}</span>\n{% } else { %}\n<a class="ck-top-nav ck-link" href="{%= state.link %}"></a>\n{% } %}\n'}}),define("../../cardkit/tpl/page/title",[],function(){return{template:'<div class="ck-top-title">{%= content %}</div>\n'}}),define("../../cardkit/card/page",["darkdom","mo/lang/mix","mo/template/micro","../../cardkit/helper","../../cardkit/tpl/page/title","../../cardkit/tpl/page/nav","../../cardkit/tpl/page/banner","../../cardkit/tpl/page/actionbar","../../cardkit/tpl/page/actionbar/action","../../cardkit/tpl/page","../../cardkit/card/box","../../cardkit/card/list","../../cardkit/card/mini","../../cardkit/card/form"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){return"true"===a.newValue?(a.root.css("min-height",window.innerHeight+"px").attr("data-page-active",!0),setTimeout(function(){a.root.addClass("topbar-enabled"),window.scrollTo(0,0)},100)):a.root.attr("data-page-active",!1).removeClass("topbar-enabled"),!1}function q(a){return"true"===a.newValue?a.root.attr("data-deck-active",!0):(a.root.attr("data-deck-active",!1),setTimeout(function(){window.scrollTo(0,0)},300)),!1}function r(a){return a.root.attr("data-curdeck",a.newValue),!1}var s=o("darkdom"),t=o("mo/lang/mix"),u=o("mo/template/micro").convertTpl,v=o("../../cardkit/helper"),w=u(o("../../cardkit/tpl/page/title").template),x=u(o("../../cardkit/tpl/page/nav").template),y=u(o("../../cardkit/tpl/page/banner").template),z=u(o("../../cardkit/tpl/page/actionbar").template),A=u(o("../../cardkit/tpl/page/actionbar/action").template),B=u(o("../../cardkit/tpl/page").template),C={box:o("../../cardkit/card/box").box,list:o("../../cardkit/card/list").list,mini:o("../../cardkit/card/mini").mini,form:o("../../cardkit/card/form").form},D={title:function(){return s({unique:!0,enableSource:!0,render:w})},nav:function(){return s({unique:!0,enableSource:!0,render:x})},banner:function(){return s({unique:!0,enableSource:!0,render:function(a){return a.isBlank=v.isBlank(a.content),y(a)}})},action:function(){return s({enableSource:!0,entireAsContent:!0,render:A})},actionbar:function(){return s({unique:!0,enableSource:!0,render:function(a){var b=a.state.limit||1;return a.visibleActions=[],a.overflowActions=[],a.componentData.action.forEach(function(c,d){var e=a.component.action[d];this.length<b&&!c.state.forceOverflow?this.push(e):a.overflowActions.push(e)},a.visibleActions),z(a)}}).contain("action",D.action).forward("control:enable .ck-item > *","control:enable").forward("control:disable .ck-item > *","control:disable").forward("actionView:confirm .ck-top-overflow","overflows:confirm")},blank:function(){return s({unique:!0,enableSource:!0,render:function(a){return"<div>"+a.content+"</div>"}})},footer:function(){return s({unique:!0,enableSource:!0,render:function(a){return"<div>"+a.content+"</div>"}})},page:function(){var a=s({render:function(a){var b=a.component;return a.hasHeader=b.title||b.nav||b.actionbar,a.isBlank=v.isBlank(a.content),B(a)}}),b=t.copy(D);return delete b.page,a.contain(b),a.contain(C,{content:!0}),a.response("state:isPageActive",p),a.response("state:isDeckActive",q),a.response("state:currentDeck",r),a}};return D}),define("../../cardkit/spec",["../../cardkit/spec/page","../../cardkit/card/page","../../cardkit/spec/box","../../cardkit/card/box","../../cardkit/spec/list","../../cardkit/card/list"],function(a,b,c,d,e,f,g){return{page:[g("../../cardkit/spec/page"),g("../../cardkit/card/page")],box:[g("../../cardkit/spec/box"),g("../../cardkit/card/box")],list:[g("../../cardkit/spec/list"),g("../../cardkit/card/list")]}}),define("cardkit",["mo/lang","dollar","mo/browsers","cardkit/spec","cardkit/oldspec","cardkit/ui","cardkit/supports","cardkit/bus"],function(a,b,c,d,e,f,g,h){function i(a){"true"!==a.getDarkState("isPageActive")&&a.trigger("pageCard:willOpen").setDarkState("isPageActive",!0,{update:!0}).trigger("pageCard:opened")}function j(a){"true"===a.getDarkState("isPageActive")&&a.trigger("pageCard:willClose").setDarkState("isPageActive",!1,{update:!0}).trigger("pageCard:closed")}function k(a){"true"!==a.getDarkState("isDeckActive")&&a.trigger("pageCard:willFocus").setDarkState("isDeckActive",!0,{update:!0}).trigger("pageCard:focused")}function l(a){"true"===a.getDarkState("isDeckActive")&&a.trigger("pageCard:willBlur").setDarkState("isDeckActive",!1,{update:!0}).trigger("pageCard:blured")}function m(a){a.setDarkState("currentDeck",this,{update:!0})}var n,o,p="main",q="unmount-page",r=/#(.+)$/,s=document,t=s.body,u={},v={},w={},x={},y={appWrapper:null,defaultPage:"ckDefault",supportOldVer:!0},z={init:function(b){this._config=a.config({},b,y),this.initSpec(),this.initView()},initSpec:function(){var b=this._config.supportOldVer;a.each(d,function(a,c){this.component(c,a[1][c]()),this.spec(c,a[0],"default"),b&&e[c]&&this.spec(c,e[c][0],"old")},this)},initView:function(){this.wrapper=b(this._config.appWrapper||t),c.webview&&this.wrapper.addClass("ck-in-webview"),b(window).on("hashchange",function(){z.openPage()}),f.init(this._config)},component:function(a,b){return b?void(u[a]=b):u[a]},spec:function(b,c,d){if(a.isFunction(c)||(d=c,c=null),!d){if(!c){var e={};return a.each(v,function(a,c){this[c]=a[b]},e),e}d="default"}var f=v[d];return f||(f=v[d]={}),c?void(f[b]=c):f[b]},guard:function(a,b){var c=w[b];return c||(c=w[b]={}),c[a]||(c[a]=this.component(a).createGuard()),c[a]},render:function(b,c){var d=this.spec(b);a.each(d,function(a,d){var e=this.guard(b,d);a(e,c),e.mount()},this)},openPage:function(c){if(c&&"string"!=typeof c)c=b(c);else{var d=r.exec(location.href);c=c||d&&d[1]||this._config.defaultPage,c=b("#"+c)}if(o||!c[0]||!this.isPage(c))return!1;window.scrollTo(0,0);var e=x[p];e||(e=b("#"+this._config.defaultPage),c[0]!==e[0]&&(x[p]=e,this.openPage(e))),o=!0,c[0].isMountedDarkDOM||(c.addClass(q),this.render("page"),c.removeClass(q));var f=c.getDarkState("deck")||p,g=x[f];return e=x[n],x[f]=c,a.each(x,m,f),f!==n&&(n=f,e&&b.contains(t,e[0])&&l(e)),g&&g[0]!==c[0]&&b.contains(t,g[0])&&j(g),i(c),k(c),o=!1,!0},isPage:function(a){var b=d.page[0],c=e.page[0];return a.is(b.SELECTOR)||a.is(c.SELECTOR)||a.is(c.SELECTOR_OLD)},isLandscape:function(){return window.innerWidth/window.innerHeight>1.1},delegate:f.delegate,ui:f,event:h};return a.mix(z,f.action),a.mix(z,f.component),z.openURL=z.openLink,z}),require.config({baseUrl:"vendor/",aliases:{cardkit:"../../cardkit/"}}),define("mo/easing/functions",[],function(){}),define("mo/mainloop",[],function(){}),define("cardkit","../../cardkit.js"),require(["cardkit"],function(){});