(function(){function t(t,e,n){var r="string"==typeof n;n||(e?f(e)?n=a(c(l(t))):(n=e,e=null):(n=t,t=""),"string"!=typeof t?(e=t,t=""):(r="string"==typeof n,r||e||(e=i(n)))),t=t&&c(t);var o=t&&E.mods[t];if(E.debug||!o||!o.name||!(r&&2==o.loaded||o.exports)){r&&E.enable_ozma&&(e=null);var s=p(this)?this:_;if(o=E.mods[t]={name:t,url:o&&o.url,host:s,deps:e||[]},""===t&&(v=o),"string"!=typeof n)o.block=n,o.loaded=2;else{var u=E.aliases;u&&(n=n.replace(/\{(\w+)\}/g,function(t,e){return u[e]||""})),o.url=n}o.block&&!d(o.block)&&(o.exports=n)}}function e(t,o,s){if("string"==typeof t){if(!o)return(E.mods[c(l(t,g))]||{}).exports;t=[t]}else o||(o=t,t=i(o));var a=p(this)?this:_;s||(s={url:g&&g.url});for(var u,h=0,d=n.call(a,t,s),f=0,m=d.length;m>f;f++)u=d[f],u.is_reset&&(u=E.mods[u.name]),u.url&&2!==u.loaded&&(h++,u.loaded=1,R(u,function(){this.loaded=2;var n=v;n&&(n.name=this.name,n.url=this.url,E.mods[this.name]=n,v=null),0>=--h&&e.call(a,t,o,s)}));h||(s.deps=t,s.host=a,s.block=o,setTimeout(function(){r(t,s),d.push(s),N(d.reverse())},0))}function n(e,i,o){if(o=o||[],!e[0])return o;var s,u=o.history;if(u||(u=o.history={}),e[1])s=e,e=!1;else{var h,d=e[0],f=b.exec(d);f&&(d=f[2],f=f[1]);var p=c(d);if(!E.mods[p]&&!S[p]){var m=c(l(d,i));p!==m&&(E.mods[i.url+":"+p]=m,p=m),E.mods[m]||t(m,a(m))}if(e=i=E.mods[p],!e)return o;if("new"===f?e={is_reset:!0,deps:e.deps,name:p,newname:f+"!"+p,host:this}:h=e.name,u[h])return o;u[h]?s=[]:(s=e.deps||[],h&&(u[h]=!0))}for(var v=s.length-1;v>=0;v--)u[s[v]]||n.call(this,[s[v]],i,o);return e&&(r(s,e),o.push(e)),o}function i(t){var e=t.hiddenDeps||[];if(!t.hiddenDeps){var n=""+t,i=null;for(e=t.hiddenDeps=[];i=w.exec(n);)e.push(i[0].slice(10,-2))}return e.slice()}function r(t,e){M.call(t.slice(),function(n,i){var r=this[e.url+":"+c(n)];"string"==typeof r&&(t[i]=r)},E.mods)}function o(t){for(var e in t)if("aliases"===e){E[e]||(E[e]={});for(var n in t[e])E[e][n]=t[e][n];var i=E.mods;for(var r in i)i[r].name=c(r),i[i[r].name]=i[r]}else E[e]=t[e]}function s(t){return t.replace(/(.+?)(_src.*)?(\.\w+)$/,function(t,e,n,i){return e+(n&&"_combo"||"_pack")+i})}function a(t){return y.test(t)?t:t+".js"}function c(t){var e=E.aliases;return e&&(t=t.replace(T,function(t,n){return e[n]||n+"/"})),t}function l(t,e){var n=x.exec(t);return n&&e&&(t=(e.url||"").replace(/[^\/]+$/,"")+n[0]),u(t)}function u(t){t=t.replace(C,"$1");for(var e,n,i=t,r=/(\.\.\/)+/g;e=(r.exec(i)||[])[0];)n=e.match(/\.\.\//g).length,t=t.replace(RegExp("([^/\\.]+/){"+n+"}"+e),"");return t.replace(/\/\//g,"/")}function h(t,e){var n=p(this)?this.document:document,i=n.createElement("script");i.type="text/javascript",i.async="async",e?d(e)&&(e={callback:e}):e={},e.charset&&(i.charset=e.charset),i.src=t;var r=n.getElementsByTagName("head")[0];i.onload=i.onreadystatechange=function(t,n){(n||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,r&&i.parentNode&&r.removeChild(i),i=void 0,!n&&e.callback&&e.callback())},r.insertBefore(i,r.firstChild)}function d(t){return"[object Function]"===k.call(t)}function f(t){return"[object Array]"===k.call(t)}function p(t){return"setInterval"in t}function m(t){function e(){}return e.prototype=t,new e}var v,g,_=this,k=Object.prototype.toString,b=/(.*)!(.+)/,w=/\Wrequire\((['"]).+?\1\)/g,y=/\.(js|json)$/,x=/^\.+?\/.+/,C=/(^|\/)\.\//g,T=/^([\w\-]+)\//,S={require:1,exports:1,module:1,host:1,finish:1},E={mods:{}},O={},L={},A={},j={},H={},M=Array.prototype.forEach||function(t,e){for(var n=0,i=this.length;i>n;n++)n in this&&t.call(e,this[n],n,this)},N=function(t){for(var n,i,r,o,s,a,l,u,h,d,f=j;n=t.pop();)if(n.is_reset?(d=m(E.mods[n.name]),d.host=n.host,d.newname=n.newname,n=d,H[n.newname]||(H[n.newname]=[]),H[n.newname].push(n),n.exports=void 0):n.name&&(n=E.mods[n.name]||n),n.block&&(n.running||void 0===n.exports)){l=[],u={},h={id:n.name,filename:n.url,exports:u},a=n.deps.slice(),a[n.block.hiddenDeps?"unshift":"push"]("require","exports","module");for(var p=0,v=a.length;v>p;p++)switch(i=a[p]){case"require":l.push(e);break;case"exports":l.push(u);break;case"module":l.push(h);break;case"host":l.push(n.host);break;case"finish":r=n.name,f[r]?f[r].push(t):f[r]=[t],l.push(function(t){setTimeout(function(){void 0!==t&&(n.exports=t),f[r]&&(M.call(f[r],function(t){this(t)},N),delete f[r],n.running=0)},0)}),s=1;break;default:l.push(((H[i]||[]).pop()||E.mods[c(i)]||{}).exports)}if(!n.running){g=n,o=n.block.apply(n.host,l)||null,g=!1,u=h.exports,n.exports=void 0!==o?o:u;for(var _ in u){_&&(n.exports=u);break}}if(s){n.running=1;break}}},R=function(t,e){var n=t.url,i=O[n];if(i)1===i?e.call(t):i.push([e,t]);else{var r=t.name,o=L;if(t.deps&&t.deps.length&&1!==o[r]){if(o[r]=[t.deps.length,e],M.call(t.deps,function(e){var n=E.mods[c(e)];1!==this[e]&&n.url&&2!==n.loaded?(this[e]||(this[e]=[]),this[e].push(t)):o[r][0]--},A),o[r][0]>0)return;o[r]=1}i=O[n]=[[e,t]];var a=/^\w+:\/\//.test(n)?n:(E.enable_ozma&&E.distUrl||E.baseUrl||"")+(E.enableAutoSuffix?s(n):n);h.call(t.host||this,a,function(){M.call(i,function(t){t[0].call(t[1])}),O[n]=1,A[r]&&1!==A[r]&&(M.call(A[r],function(t){var e=this[t.name];0>=--e[0]&&(this[t.name]=1,R(t,e[1]))},o),A[r]=1)})}},D={VERSION:"2.5.2",define:t,require:e,config:o,seek:i,fetch:R,realname:c,basename:l,filesuffix:a,namesuffix:s,_getScript:h,_clone:m,_forEach:M,_isFunction:d,_isWindow:p};if(e.config=o,t.amd={jQuery:!0},_.window)_.oz=D,_.define=t,_.require=e;else{exports.oz=D,exports._config=E;for(var I in D)exports[I]=D[I];var P=function(t){return function(){return exports[t].apply(this,arguments)}};N=P("exec"),R=P("fetch"),e=P("require"),e.config=o}})(),require.config({enable_ozma:!0}),define("mo/domready",["finish"],function(t){var e,n=this,i=n.document,r="addEventListener",o="attachEvent",s="DOMContentLoaded",a="onreadystatechange";if("complete"===i.readyState)setTimeout(t,1);else if(i[r])e=function(){i.removeEventListener("READY",e,!1),t()},i[r](s,e,!1),n[r]("load",t,!1);else if(i[o]){e=function(){"complete"===i.readyState&&(i.detachEvent(a,e),t())},i[o](a,e),n[o]("load",t);var c=!1;try{c=null==n.frameElement}catch(l){}if(i.documentElement.doScroll&&c){var u=function(){try{i.documentElement.doScroll("left")}catch(e){return setTimeout(u,1),void 0}t()};u()}}}),define("mo/browsers",[],function(){var t,e,n,i=this.navigator.userAgent.toLowerCase(),r={"360ee":2,"maxthon/3":2,qqbrowser:2,metasr:2,"360se":1,theworld:1,maxthon:1,tencenttraveler:-1};try{var o=/(windows) nt ([\w.]+)/,s=/(mac) os \w+ ([\w.]+)/,a=/(iphone) os ([\w._]+)/,c=/(ipad) os ([\w.]+)/,l=/(android)[ ;]([\w.]*)/,u=/(\w+)[ \/]([\w.]+)[ \/]mobile.*safari/,h=/(\w+)[ \/]([\w.]+) safari/,d=/(webkit)[ \/]([\w.]+)/,f=/(opera)(?:.*version)?[ \/]([\w.]+)/,p=/(msie) ([\w.]+)/,m=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/(360se)/,g=/(360ee)/,_=/(360) \w+phone/,k=/(theworld)/,b=/(maxthon\/3)/,w=/(maxthon)/,y=/(tencenttraveler)/,x=/(qqbrowser)/,C=/(baidubrowser)/,T=/(ucbrowser)/,S=/(metasr)/;if(n=a.exec(i)||c.exec(i)||l.exec(i)||s.exec(i)||o.exec(i)||[],t=d.exec(i)||f.exec(i)||p.exec(i)||0>i.indexOf("compatible")&&m.exec(i)||[],"webkit"===t[1]){var E=u.exec(i)||h.exec(i);E&&(t[3]=t[1],t[4]=t[2],t[1]="version"===E[1]&&(("iphone"===n[1]||"ipad"===n[1])&&"mobilesafari"||"android"===n[1]&&"aosp"||"safari")||E[1],t[2]=E[2])}e=v.exec(i)||g.exec(i)||_.exec(i)||T.exec(i)||k.exec(i)||b.exec(i)||w.exec(i)||y.exec(i)||x.exec(i)||C.exec(i)||S.exec(i)||[]}catch(O){t=[],e=[]}var L={browser:t[1]||"",version:t[2]||"0",engine:t[3],engineversion:t[4]||"0",os:n[1],osversion:n[2]||"0",skin:e[1]||"",ua:i};return"android"!==L.os||L.browser||(L.skin="ucbrowser",L.browser="aosp",L.engine="webkit",L.osversion="0"),t[1]&&(L[t[1]]=parseInt(L.version,10)||!0),e[1]&&(L.rank=r[L.skin]||0),L.shell=L.skin,L}),define("../cardkit/supports",["mo/browsers"],function(t){var e=this,n=e.document,i=n.body,r="android"===t.os,o="iphone"===t.os||"ipad"===t.os,s=o&&"webkit"===t.engine&&536>parseInt(t.engineversion,10),a="mac"===t.os||"windows"===t.os||"linux"===t.os,c={GOBACK_WHEN_POP:!s&&!t.aosp,REPLACE_HASH:!t.aosp,PUSH_HASH_BUG:t.crios,NEW_WIN:!s&&!t.aosp,CARD_SCROLL:!a&&!t.aosp&&!s,PREVENT_WINDOW_SCROLL:!!t.mobilesafari,HIDE_TOPBAR:!!t.mobilesafari};return c.SAFARI_OVERFLOWSCROLL="webkitOverflowScrolling"in i.style&&(c.CARD_SCROLL||s),c.WINDOW_SCROLL=!c.CARD_SCROLL||r,c}),define("mo/lang/es5",[],function(){function t(){}var e=this,n=e.Array,i=e.String,r=e.Object,o=e.Function,s=r.prototype,a=n.prototype,c=o.prototype,l=s.toString;c.bind||(c.bind=function(e){var n=this,i=a.slice.call(arguments,1),o=function(){var t=i.concat(a.slice.call(arguments));if(this instanceof o){var s=n.apply(this,t);return r(s)===s?s:this}return n.apply(e,t)};return n.prototype&&(t.prototype=n.prototype,o.prototype=new t,t.prototype=null),o});var u=c.call,h=u.bind(s.hasOwnProperty),l=u.bind(s.toString);a.filter||(a.filter=function(t,e){for(var n=[],i=0,r=this.length;r>i;i++)i in this&&t.call(e,this[i],i,this)&&n.push(this[i]);return n}),a.forEach||(a.forEach=function(t,e){for(var n=0,i=this.length;i>n;n++)n in this&&t.call(e,this[n],n,this)}),a.map||(a.map=function(t,e){for(var n=0,i=[],r=this.length;r>n;n++)n in this&&(i[n]=t.call(e,this[n],n,this));return i}),a.reduce||(a.reduce=function(t,e){for(var n=1,i=this[0],r=this.length;r>n;n++)n in this&&(i=t.call(e,i,this[n],n,this));return i}),a.some||(a.some=function(t,e){for(var n=0,i=this.length;i>n;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}),a.every||(a.every=function(t,e){for(var n=0,i=this.length;i>n;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0}),a.indexOf||(a.indexOf=function(t,e){var n=this.length;for(e=parseInt(e,10)||0,0>e&&(e+=n);n>e;e++)if(e in this&&this[e]===t)return e;return-1}),a.lastIndexOf||(a.lastIndexOf=function(t,e){var n=this.length;for(e=parseInt(e,10)||n-1,0>e&&(e+=n);e>-1;e--)if(e in this&&this[e]===t)return e;return-1}),n.isArray||(n.isArray=function(t){return"[object Array]"===l.call(t)});var d=/\S/,f=/^\s+/,p=/\s+$/;d.test(" ")&&(f=/^[\s\xA0]+/,p=/[\s\xA0]+$/),i.prototype.trim||(i.prototype.trim=function(t){return null==t?"":(""+t).replace(f,"").replace(p,"")}),r.keys||(r.keys=function(t){var e=[];for(var n in t)h(t,n)&&e.push(n);return e}),r.create||(r.create=function(t){function e(){}return e.prototype=t,new e}),r.getPrototypeOf||(r.getPrototypeOf=function(t){return t.__proto__||t.constructor.prototype})}),define("mo/lang/type",["mo/lang/es5"],function(t,e,n){function i(t){return null==t?t+"":s[r.call(t)]||"object"}var r=Object.prototype.toString,o=Array.prototype,s={};o.forEach.call("Boolean Number String Function Array Date RegExp Object".split(" "),function(t){this["[object "+t+"]"]=t.toLowerCase()},s),n.type=i,n.isFunction=function(t){return"[object Function]"===r.call(t)},n.isWindow=function(t){return"setInterval"in t},n.isEmptyObject=function(t){for(var e in t)return e=null,!1;return!0}}),define("mo/lang/mix",["mo/lang/es5","mo/lang/type"],function(t,e,n,i){function r(t){var e,n,i,o,s=arguments,a=s.length,c={number:1,"boolean":2,string:3};"object"!=typeof s[a-1]?(n=s[a-1]||0,a--):n=0;for(var l=1;a>l;l++)if(e=s[l],Array.isArray(e))for(t=!c[typeof t]&&t||[],o=e.length,i=0;o>i;i++)t[i]=n>=1&&e[i]&&"object"==typeof e[i]?r(t[i],e[i],n-1):e[i];else{t=!c[typeof t]&&t||{};for(i in e)t[i]=n>=1&&e[i]&&"object"==typeof e[i]?r(t[i],e[i],n-1):e[i]}return t}function o(t){var e,n,i,r,s,c,l,u=arguments,h=u.length,d={object:1,array:2};"object"!=typeof u[h-1]?(n=u[h-1]||0,h--):n=0;for(var f=1;h>f;f++)if(e=u[f],Array.isArray(t))t=t||[],s={},c=[],l="__oz_uniqmark_"+(+new Date+Math.random()),e=e.concat(t),t.length=0,e.forEach(function(e){e&&"object"==typeof e?e[l]||(n>=1&&Array.isArray(e)?t.push(o(e,[],n-1)):t.push(e),e[l]=1,c.push(e)):(r=typeof e+"_"+e,this[r]||(t.push(e),this[r]=1))},s),c.forEach(function(t){delete t[l]});else{t=t||{};for(i in e)t.hasOwnProperty(i)?n>=1&&i&&d[a(t[i])]+0===d[a(e[i])]+0&&(t[i]=o(t[i],e[i],n-1)):t[i]=e[i]}return t}function s(t){var e,n,i,r,o,c,l,u=arguments,h=u.length,d={object:1,array:2};"object"!=typeof u[h-1]?(n=u[h-1]||0,h--):n=0;for(var f=1;h>f;f++)if(e=u[f],Array.isArray(t))t=t||[],o={},c=[],l="__oz_uniqmark_"+(+new Date+Math.random()),t.forEach(function(t){t&&"object"==typeof t&&!t[l]?(t[l]=1,c.push(t)):(r=typeof t+"_"+t,this[r]=1)},o),t.length=0,e.forEach(function(e){e&&"object"==typeof e?1===e[l]&&(t.push(e),e[l]=2):(r=typeof e+"_"+e,1===this[r]&&(t.push(e),this[r]=2))},o),c.forEach(function(t){delete t[l]});else{t=t||{};for(i in t)e.hasOwnProperty(i)?n>=1&&i&&d[a(t[i])]+0===d[a(e[i])]+0&&(t[i]=s(t[i],e[i],n-1)):delete t[i]}return t}var a=e.type;i.mix=r,i.merge=o,i.interset=s,i.copy=function(t,e){return r(null,t,e)},i.occupy=function(t,e,n){return r(s(t,e,n),e,n)},i.defaults=o,i.config=function(t,e,n,i){return r(o(t,n,i),s(r(null,e,i),n,i),i)},i.unique=function(t,e){return o(t,[],e)}}),define("mo/lang/oop",["mo/lang/es5","mo/lang/mix"],function(t,e,n,i){function r(t,e,n){return t.apply(e,n)}var o=e.mix;i.construct=function(t,e,n){e&&!Array.isArray(e)&&(n=e),n||(n=function(){this.superConstructor.apply(this,arguments)});var i=Object.create(t.prototype),s=Object.create(t.prototype),a=function(){var e=this;return this.constructor=a,this.superConstructor=function(){r.prototype=t.prototype;var n=new r(t,e,arguments);for(var i in n)e[i]||(e[i]=s[i]=n[i])},this.superClass=s,n.apply(this,arguments)};return a.prototype=i,e&&(e=o.apply(this,e),o(i,e),o(s,e)),a}}),define("mo/lang/struct",["mo/lang/es5","mo/lang/mix"],function(t,e,n,i){var r=e.mix;i.index=function(t,e){for(var n,i={},r=0,o=t.length;o>r;r++)n=t[r],e&&"object"==typeof n?i[n[e]]=n:i[n]=!0;return i},i.fnQueue=function(){function t(t){return function(){var e,i;for(n=this.slice().reverse();i=n.pop();)e=i[t].apply(i,arguments);return n=!1,e}}var e=[],n=!1;return r(e,{call:t("call"),apply:t("apply"),clear:function(t){if(t){for(var e=this.length,i=e-n.length,r=this.length-1;r>=0;r--)this[r]===t&&(this.splice(r,1),n&&r>=i&&n.splice(e-r-1,1));if(0>r)return!1}else this.length=0;return!0}}),e}}),define("mo/lang",["mo/lang/es5","mo/lang/type","mo/lang/mix","mo/lang/struct","mo/lang/oop"],function(t,e,n,i,r,o,s){var a=this,c=a.window;n.mix(s,e,n,i,r),s.ns=function(t,e,n){for(var i,r=n||c,o=t.split(".").reverse();(i=o.pop())&&o.length>0;){if(r[i]===void 0)r[i]={};else if("object"!=typeof r[i])return!1;r=r[i]}return e!==void 0&&(r[i]=e),r[i]}}),define("dollar/origin",["mo/lang/es5","mo/lang/mix","mo/lang/type"],function(t,e,n){function i(t,e){if(t){if(t.constructor===i)return t;if("string"!=typeof t){var n=new i;return t.push===D||t[0]?D.apply(n,I.call(t)):D.call(n,t),n}return t=t.trim(),M.test(t)?k(t):e?i(e).find(t):F.find(t)}return this===C?new i:void 0}function r(t){return t}function o(t,e){return t&&t[L](e)}function s(t,e){return function(n){return e&&(n=n[e]),o(n,t)&&this.push(n),n}}function a(t){return function(n){return i(e.unique([void 0,T,null].concat(this._map(n?function(e){var i=e[t];return i&&o(i,n)?i:void 0}:function(e){return e[t]}))).slice(3))}}function c(t,n,r){return function(s,a){r||(a=s);var c=new i;return this.forEach(function(e){var c,l=n?e.parentNode[n]:e;r&&(c=i(s,e.parentNode));do{if(c&&c.indexOf(l)>-1)break;e===l||a&&!o(l,a)||this.push(l)}while(l=l[t])},c),e.unique(c)}}function l(t,e,n,i,r){var o=N(e);return t.forEach(function(t,s){i.call(r,t,o?e.call(this,s,n&&t[n]):e)},t),t}function u(t,e,n){return function(i,r){if("object"==typeof i)if(n)n(this,i);else for(var o in i)this.forEach(function(e){t(e,this,i[this])},o);else{if(void 0===r)return e(this[0],i);var s=N(r);this.forEach(function(n,o){t(n,i,s?r.call(this,o,e(n,i)):r)},this)}return this}}function h(t){function e(n,i){if("object"==typeof n)for(var r in n)e.call(this,[r,n[r]]);else i&&this.forEach(function(e){e[t+"EventListener"](n,this,!1)},i);return this}return e}function d(t,n){var i=!0,r=j[t],o=document.createEvent(r&&"TouchEvent"||A[t]&&"MouseEvents"||"Events");return n&&("bubbles"in n&&(i=!!n.bubbles,delete n.bubbles),e.mix(o,n)),o[r&&"initTouchEvent"||"initEvent"](t,i,!0),o}function f(t,n,r){return this===i?t=i(t):(r=n,n=t,t=this),"string"==typeof n&&(n=d(n)),e.mix(n,r),t.forEach("submit"!=n.type||n.defaultPrevented?function(t){"dispatchEvent"in t&&t.dispatchEvent(this)}:function(t){t.submit()},n),this}function p(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function m(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function v(t,e){return"number"==typeof e&&!H[t]&&e+"px"||e}function g(t){var e=U[t];if(!e){var n=document.createElement(t);T.body.appendChild(n),e=P(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),"none"===e&&(e="block"),U[t]=e}return e}function _(t){return function(){return this[0]===C?C["inner"+t]:this[0]===T?T.documentElement["offset"+t]:(this.offset()||{})[t.toLowerCase()]}}function k(t,e){var n=(M.exec(t)||[])[0]||t,r=V[n];r||(r=V[n]="tr"===n&&document.createElement("tbody")||("tbody"===n||"thead"===n||"tfoot"===n)&&document.createElement("table")||("td"===n||"th"===n)&&document.createElement("tr")||document.createElement("div")),r.innerHTML=t;var o=new i;if(D.apply(o,I.call(r.childNodes)),o.forEach(function(t){this.removeChild(t)},r),e)for(var s in e)o.attr(s,e[s]);return o}function b(t,e,n){switch("SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||C.eval.call(C,e.innerHTML),n){case 1:t.appendChild(e);break;case 2:t.parentNode.insertBefore(e,t);break;case 3:t.insertBefore(e,t.firstChild);break;case 4:t.parentNode.insertBefore(e,t.nextSibling);break;default:}}function w(t,e){var n=e?function(e){b(e,this,t)}:function(e){b(this,e,t)};return function(t){return this.forEach(function(t){this.forEach(n,t)},i(t)),this}}function y(t){return w(t,!0)}function x(t){return w(t)}var C=this,T=C.document,S="nextElementSibling",E="previousElementSibling",O="firstElementChild",L=["webkitMatchesSelector","mozMatchesSelector","matchesSelector"].map(function(t){return this[t]&&t},T.body).filter(r)[0],A={click:1,mousedown:1,mouseup:1,mousemove:1},j={touchstart:1,touchmove:1,touchend:1,touchcancel:1},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,N=n.isFunction,R=Array.prototype.map,D=Array.prototype.push,I=Array.prototype.slice,P=document.defaultView.getComputedStyle,U={},V={},F=i.fn=i.prototype=[];return["map","filter","slice","reverse","sort"].forEach(function(t){var e=this["_"+t]=this[t];this[t]=function(){return i(e.apply(this,arguments))}},F),["splice","concat"].forEach(function(t){var e=this["_"+t]=this[t];this[t]=function(){return i(e.apply(this._slice(),R.call(arguments,function(t){return t._slice()})))}},F),e.mix(F,{constructor:i,toString:function(){return this.join(",")},find:function(t){var e,n=new i;if(this===F?e=[T]:n.prevObject=e=this,/^#[\w_]+$/.test(t)){var r=((e[0]||T).getElementById||T.getElementById).call(T,t.substr(1));r&&n.push(r)}else{var o=/\W/.test(t)?"querySelectorAll":"getElementsByTagName";e[1]?e.forEach(function(e){this.push.apply(this,I.call(e[o](t)))},n):e[0]&&n.push.apply(n,I.call(e[0][o](t)))}return n},eq:function(t){return-1===t?this.slice(-1):this.slice(t,t+1)},not:function(t){return this.filter(function(e){return e&&!this(e,t)},o)},has:function(t){return this.filter(function(e){return this(e,t)},o)},parent:a("parentNode"),parents:function(t){for(var e=new i,n=this,r=t?s(t,"parentNode"):function(t){return this[this.push(t.parentNode)-1]};n.length;)n=n.map(r,e);return e},closest:function(t){for(var e=new i,n=this,r=s(t,"parentNode");n.length&&!e.length;)n=n.map(r,e);return e.length&&e||this},siblings:c(S,O),next:a(S),nextAll:c(S),nextUntil:c(S,!1,!0),prev:a(E),prevAll:c(E),prevUntil:c(E,!1,!0),children:function(){var t=new i;return this.forEach(function(e){this(t,i(e.children))},e.merge),t},contents:function(){var t=new i;return this.forEach(function(e){this(t,i(e.childNodes))},e.merge),t},is:function(t){return this.some(function(e){return o(e,t)})},hasClass:function(t){for(var e=0,n=this.length;n>e;e++)if(this[e].classList.contains(t))return!0;return!1},isEmpty:function(){return this.every(function(t){if(!t.innerHTML){if(t.innerHTML=" ",!t.innerHTML)return!0;t.innerHTML=""}return!1})},addClass:function(t){return l(this,t,"className",function(t,e){t.classList.add(e)})},removeClass:function(t){return l(this,t,"className",function(t,e){t.classList.remove(e)})},toggleClass:function(t,e){return l(this,t,"className",function(t,n){t.classList[void 0===e&&"toggle"||this&&"add"||"remove"](n)})},attr:u(function(t,e,n){t.setAttribute(e,n)},function(t,e){return t&&t.getAttribute(e)}),removeAttr:function(t){return this.forEach(function(t){t.removeAttribute(this)},t),this},prop:u(function(t,e,n){t[e]=n},function(t,e){return(t||{})[e]}),removeProp:function(t){return this.forEach(function(t){delete t[this]},t),this},data:u(function(t,e,n){t.dataset[p(e)]=n},function(t,n){var i=(t||{}).dataset;return n?i[p(n)]:e.mix({},i)}),removeData:function(t){return this.forEach(function(t){delete t.dataset[this]},t),this},val:function(t){var e=this[0];return void 0!==t?l(this,t,"value",function(t,e){t.value=e}):e?e.multiple?i("option",this).filter(function(t){return t.selected}).map(function(t){return t.value}):e.value:void 0},empty:function(){return this.forEach(function(t){t.innerHTML=""}),this},html:function(t){return void 0===t?(this[0]||{}).innerHTML:l(this,t,"innerHTML",function(t,e){M.test(e)?this(t).empty().append(e):t.innerHTML=e},i)},text:function(t){return void 0===t?(this[0]||{}).textContent:l(this,t,"textContent",function(t,e){t.textContent=e})},clone:function(){return this.map(function(t){return t.cloneNode(!0)})},css:u(function(t,e,n){var i=m(e);n||0===n?t.style.cssText+=";"+i+":"+v(i,n):t.style.removeProperty(i)},function(t,e){return t&&(t.style[p(e)]||P(t,"").getPropertyValue(e))},function(t,e){var n,i,r="";for(var o in e)i=e[o],n=m(o),i||0===i?r+=n+":"+v(n,i)+";":t.forEach(function(t){t.style.removeProperty(this)},n);t.forEach(function(t){t.style.cssText+=";"+this},r)}),hide:function(){return this.css("display","none")},show:function(){return this.forEach(function(t){"none"===t.style.display&&(t.style.display=null),"none"===this(t,"").getPropertyValue("display")&&(t.style.display=g(t.nodeName))},P),this},offset:function(){var t=this[0].getBoundingClientRect();return{left:t.left+C.pageXOffset,top:t.top+C.pageYOffset,width:t.width,height:t.height}},width:_("Width"),height:_("Height"),appendTo:y(1),append:x(1),prependTo:y(3),prepend:x(3),insertBefore:y(2),before:x(2),insertAfter:y(4),after:x(4),replaceAll:function(t){var e=i(t);return this.insertBefore(e),e.remove(),this},replaceWith:function(t){return i(t).replaceAll(this)},wrap:function(t){return l(this,t,!1,function(t,e){this(e).insertBefore(t).append(t)},i)},wrapAll:function(t){return i(t).insertBefore(this.eq(0)).append(this),this},wrapInner:function(t){return l(this,t,!1,function(t,e){this(t).contents().wrapAll(e)},i)},unwrap:function(){return this.parent().forEach(function(t){this(t).children().replaceAll(t)},i),this},remove:function(){return this.forEach(function(t){var e=t.parentNode;e&&e.removeChild(t)}),this},on:h("add"),off:h("remove"),once:function(t,e){var n=function(){return i(this).unbind(t,n),e.apply(this,arguments)};i(this).bind(t,n)},trigger:f,end:function(){return this.prevObject||new i},each:function(t){for(var e=0,n=this.length;n>e;e++){var i=t.call(this[e],e);if(i===!1)break}return this}}),F.bind=F.on,F.unbind=F.off,i.find=i,i.matchesSelector=o,i.createNodes=k,i.camelize=p,i.dasherize=m,i.Event=d,i.trigger=f,i._kvAccess=u,i._eachNode=l,i.VERSION="1.1.2",i}),define("dollar",["dollar/origin"],function(t){return t}),define("../cardkit/parser/util",["dollar","mo/lang"],function(t){function e(t){if(t)for(var e,n=0,i=t.length;i>n;n++)if(e=t[n].href)return e}function n(t){return t.map(function(t){return t.textContent}).join("")}function i(e){return e.map(function(t){return t.innerHTML},t).join("")}function r(e,n){return e.map(function(t){var e=t.outerHTML;return n?e.replace(f,function(t,e,i){return i===n?e+"ck-"+i:t}):e},t).join("")}function o(t,e,n,i,r){var o=e.find(t);return o.length?o.map(function(e){var o=p.getSource(e,n);if(o){var s=o.find(t);return s[0]||(s=o),i(s,e,r,n)}return i(e,void 0,r,n)}):o}function s(t,e,n,i){if(e&&"object"==typeof e){e=n(e,null,null,i);for(var r in e)!e[r]||e[r]instanceof Array&&!e[r].length||(t[r]=e[r])}return t}function a(n,r){n=t(n);var o=n&&{html:i(n),href:e(n)}||{};return s(o,r,a)}function c(n,r,a,f){n=t(n);var p,m,v,g,_,k=o(".ckd-title",n,f,h,"title")[0],b=o(".ckd-author",n,f,h,"author")[0],w=o(".ckd-icon",n,f,l,"icon")[0];k||b||w?(p=o(".ckd-title-link-alone",n,f,u,"title-link-alone")[0],m=p||o(".ckd-title-link-extern",n,f,u,"title-link-extern")[0],v=m||o(".ckd-title-link",n,f,u,"title-link")[0]||o(".ckd-title",n,f,u,"title")[0],g=o(".ckd-author-link-extern",n,f,u,"author-link-extern")[0],_=g||o(".ckd-author-link",n,f,u,"author-link")[0]||o(".ckd-author",n,f,u,"author")[0]):(k=i(n),p=n.hasClass("ckd-title-link-alone"),m=n.hasClass("ckd-title-link-extern"),v=e(n));var y={title:k,href:!p&&v,hrefAlone:p,hrefExtern:m,titlePrefix:o(".ckd-title-prefix",n,f,d,"title-prefix"),titleSuffix:o(".ckd-title-suffix",n,f,d,"title-suffix"),titleTag:o(".ckd-title-tag",n,f,d,"title-tag"),icon:w,desc:o(".ckd-desc",n,f,d,"desc").concat(o(".ckd-subtitle",n,f,d,"subtitle")),info:o(".ckd-info",n,f,d,"info"),content:o(".ckd-content",n,f,d,"content"),meta:o(".ckd-meta",n,f,d,"meta"),author:b,authorUrl:_,authorUrlExtern:g,authorPrefix:o(".ckd-author-prefix",n,f,d,"author-prefix"),authorSuffix:o(".ckd-author-suffix",n,f,d,"author-suffix"),avatar:o(".ckd-avatar",n,f,l,"avatar")[0],authorDesc:o(".ckd-author-desc",n,f,d,"author-desc"),authorInfo:o(".ckd-author-info",n,f,d,"author-info"),authorMeta:o(".ckd-author-meta",n,f,d,"author-meta")};return s(y,r,c,f)}function l(e){return e=t(e),e.attr("src")}function u(n){return n=t(n),e(n)}function h(e){return e=t(e),i(e)}function d(e,n,i){return e=t(e),r(e,i)}var f=/([^\w-])ckd\-([\w\-]+)(?=[^\w\-])/,p={mergeSource:s,getSource:function(e,n){var i=t(e).data("source");if(i){var r=n.find("."+i);return r[0]&&r}},getHref:e,getText:n,getInnerHTML:i,getOuterHTML:r,getCustom:o,getHd:a,getItemData:c,getItemDataOuter:d};return p}),define("../cardkit/parser/form",["dollar","mo/lang","../cardkit/parser/util"],function(t,e,n){function i(e,i){e=t(e);var c=n.getSource(e,i),l={blank:e.data("cfgBlank"),plainhd:e.data("cfgPlainhd")},u=s(c&&c.find(".ckd-hd")),h=s(c&&c.find(".ckd-hd-link-extern")),d=h.href?h:s(c&&c.find(".ckd-hd-link")),f=a(c&&c.find(".ckd-hdopt"),"hdopt"),p=s(c&&c.find(".ckd-ft")),m=c&&c.find(".ckd-item").map(function(t){return r(t,null,null,i)})||t(),v=o(".ckd-hd",e,i,s)[0]||{},g=o(".ckd-hd-link-extern",e,i,s)[0]||{},_=g.href?g:o(".ckd-hd-link",e,i,s)[0]||{},k=o(".ckd-hdopt",e,i,a,"hdopt").join(""),b=o(".ckd-ft",e,i,s)[0]||{},w=o(".ckd-item",e,i,r),y={config:l,style:e.data("style"),items:w.concat(m||t()),hd:void 0===v.html?u.html:v.html,hd_url:_.href||null!==_.href&&d.href||v.href||null!==v.href&&u.href,hd_url_extern:g.href||h.href,hd_opt:k+f,ft:void 0===b.html?p.html:b.html};return y}function r(e,i,s,c){e=t(e);var l={content:o(".ckd-content",e,c,a,"content").join("")||n.getInnerHTML(e)};return n.mergeSource(l,i,r,c)}var o=n.getCustom,s=n.getHd,a=n.getItemDataOuter;return i}),define("../cardkit/parser/list",["dollar","mo/lang","../cardkit/parser/util"],function(t,e,n){function i(e,i){e=t(e);var c=n.getSource(e,i),l={blank:e.data("cfgBlank"),limit:e.data("cfgLimit"),col:e.data("cfgCol"),paper:e.data("cfgPaper"),plain:e.data("cfgPlain"),plainhd:e.data("cfgPlainhd")},u=o(c&&c.find(".ckd-hd")),h=o(c&&c.find(".ckd-hd-link-extern")),d=h.href?h:o(c&&c.find(".ckd-hd-link")),f=a(c&&c.find(".ckd-hdopt"),"hdopt"),p=o(c&&c.find(".ckd-ft")),m=c&&c.find(".ckd-item").map(function(t){return s(t,null,null,i)})||t(),v=r(".ckd-hd",e,i,o)[0]||{},g=r(".ckd-hd-link-extern",e,i,o)[0]||{},_=g.href?g:r(".ckd-hd-link",e,i,o)[0]||{},k=r(".ckd-hdopt",e,i,a,"hdopt").join(""),b=r(".ckd-ft",e,i,o)[0]||{},w=n.getCustom(".ckd-item",e,i,s),y={config:l,style:e.data("style"),items:w.concat(m),hd:void 0===v.html?u.html:v.html,hd_url:_.href||null!==_.href&&d.href||v.href||null!==v.href&&u.href,hd_url_extern:g.href||h.href,hd_opt:k+f,ft:void 0===b.html?p.html:b.html};return(l.plain||l.plainhd||"split"===y.style)&&(y.hasSplitHd=!0),y}var r=n.getCustom,o=n.getHd,s=n.getItemData,a=n.getItemDataOuter;return i}),define("../cardkit/parser/mini",["dollar","mo/lang","../cardkit/parser/list"],function(t,e,n){function i(t,e){var i=n(t,e);return i.hasSplitHd=!0,i}return i}),define("../cardkit/parser/box",["dollar","mo/lang","../cardkit/parser/util"],function(t,e,n){function i(e,i){e=t(e);var u=n.getSource(e,i),h={paper:e.data("cfgPaper"),plain:e.data("cfgPlain"),plainhd:e.data("cfgPlainhd")},d=c(u&&u.find(".ckd-hd")),f=c(u&&u.find(".ckd-hd-link-extern")),p=f.href?f:c(u&&u.find(".ckd-hd-link")),m=l(u&&u.find(".ckd-hdopt"),"hdopt"),v=c(u&&u.find(".ckd-ft")),g=u&&n.getOuterHTML(u.find(".ckd-content")),_=a(".ckd-hd",e,i,o)[0]||{},k=a(".ckd-hd-link-extern",e,i,o)[0]||{},b=k.href?k:a(".ckd-hd-link",e,i,o)[0]||{},w=a(".ckd-hdopt",e,i,s,"hdopt").join(""),y=a(".ckd-ft",e,i,o)[0]||{};a(".ckd-content",e,i,r);var x={config:h,style:e.data("style"),content:e[0].innerHTML+(g||""),hd:void 0===_.html?d.html:_.html,hd_url:b.href||null!==b.href&&p.href||_.href||null!==_.href&&d.href,hd_url_extern:k.href||f.href,hd_opt:w+m,ft:void 0===y.html?v.html:y.html||(h.plain||h.paper)&&" "};return x.content&&/\S/.test(x.content)&&(x.hasContent=!0),x}function r(e,n){n&&t(n).replaceWith(e.clone())}function o(e,n){var i=c(e,n);return t(e).remove(),i}function s(e,n,i){var r=l(e,n,i);return t(e).remove(),r}var a=n.getCustom,c=n.getHd,l=n.getItemDataOuter;return i}),define("../cardkit/tpl/unit/blank",[],function(){return{template:'\n<div class="ck-blank-unit">\n    <article class="ck-unit-wrap">\n        <div>{%=(data.config.blank || \'目前还没有内容\')%}</div>\n    </article>\n</div>\n'}}),define("../cardkit/tpl/unit/form",[],function(){return{template:'\n{% function hd(){ %}\n    {% if (data.hd) { %}\n    <header class="ck-hd-wrap">\n\n        <span class="ck-hd {%= (data.hd_url && \'clickable\' || \'\') %}">\n            {% if (data.hd_url) { %}\n            <a href="{%= data.hd_url %}" class="ck-link ck-link-mask {%= (data.hd_url_extern ? \'ck-link-extern\' : \'\') %}"></a>\n            {% } %}\n            <span>{%= data.hd %}</span>\n        </span>\n\n        {% if (data.hd_opt) { %}\n        <div class="ck-hdopt-wrap">{%=data.hd_opt%}</div>\n        {% } %}\n\n    </header>\n    {% } %}\n{% } %}\n\n{% if (data.config.plain || data.config.plainhd) { %}\n    {%= hd() %}\n{% } %}\n\n<article class="ck-unit-wrap">\n\n    {% if (!data.config.plain && !data.config.plainhd) { %}\n        {%= hd() %}\n    {% } %}\n\n    <section>\n    {% if (!data.items.length) { %}\n    <div class="ck-item blank">{%=(data.config.blank || \'目前还没有内容\')%}</div>\n    {% } %}\n    {% data.items.forEach(function(item){ %}\n        <div class="ck-item">\n            {%= item.content %}\n        </div>\n    {% }); %}\n    </section>\n\n    {% if (data.ft) { %}\n    <footer>{%= data.ft %}</footer>\n    {% } %}\n\n</article>\n\n'}}),define("../cardkit/tpl/unit/mini",[],function(){return{template:'\n{% function hd(){ %}\n    {% if (data.hd) { %}\n    <header class="ck-hd-wrap">\n\n        <span class="ck-hd {%= (data.hd_url && \'clickable\' || \'\') %}">\n            {% if (data.hd_url) { %}\n            <a href="{%= data.hd_url %}" class="ck-link ck-link-mask {%= (data.hd_url_extern ? \'ck-link-extern\' : \'\') %}"></a>\n            {% } %}\n            <span>{%= data.hd %}</span>\n        </span>\n\n        {% if (data.hd_opt) { %}\n        <div class="ck-hdopt-wrap">{%=data.hd_opt%}</div>\n        {% } %}\n\n    </header>\n    {% } %}\n{% } %}\n\n{% if (data.hasSplitHd) { %}\n    {%= hd() %}\n{% } %}\n\n<article class="ck-unit-wrap">\n\n    {% if (!data.hasSplitHd) { %}\n        {%= hd() %}\n    {% } %}\n\n    <div class="ck-list-wrap {%= (data.items.length > 1 ? \'slide\' : \'\') %}">\n    {% if (data.items.length) { %}\n\n        <div class="ck-list">\n        {% data.items.forEach(function(item, i){ %}\n            <div class="ck-item {%= (item.href && \'clickable\' || \'\') %}">\n\n                <div class="ck-initem">\n\n                    {% if (item.href) { %}\n                    <a href="{%= item.href %}" class="ck-link ck-link-mask {%= (item.hrefExtern ? \'ck-link-extern\' : \'\') %}"></a>\n                    {% } %}\n\n                    <div class="ck-title-box">\n\n                        {% if (item.icon) { %}\n                        <span class="ck-icon">\n                            <img src="{%= item.icon %}"/>\n                        </span>\n                        {% } %}\n\n                        <div class="ck-title-set">\n\n                            {% if (item.title) { %}\n                            <div class="ck-title-line">\n                                {%= item.titlePrefix.join(\'\') %}\n\n                                {% if (item.hrefAlone) { %}\n                                <a href="{%= item.hrefAlone %}" class="ck-link {%= (item.hrefExtern ? \'ck-link-extern\' : \'\') %}">{%= item.title %}</a>\n                                {% } else { %}\n                                <span class="ck-title">{%= item.title %}</span>\n                                {% } %}\n\n                                {%= item.titleSuffix.join(\'\') %}\n                                {%= item.titleTag.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                            {% if (item.info.length) { %}\n                            <div class="ck-info-wrap">\n                                {%= item.info.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                            {% if (item.desc.length) { %}\n                            <div class="ck-desc-wrap">\n                                {%= item.desc.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                        </div>\n\n                        {% if (item.content.length) { %}\n                        <div class="ck-content-wrap">\n                            {%= item.content.join(\'\') %}\n                        </div>\n                        {% } %}\n\n                        {% if (item.meta.length) { %}\n                        <div class="ck-meta-wrap">\n                            {%= item.meta.join(\'\') %}\n                        </div>\n                        {% } %}\n\n                    </div>\n\n                    {% if (item.author || item.authorDesc.length || item.authorMeta.length) { %}\n                    <div class="ck-author-box">\n\n                        {% if (item.avatar) { %}\n                            {% if (item.authorUrl) { %}\n                            <a href="{%= item.authorUrl %}" class="ck-avatar ck-link {%= (item.authorUrlExtern ? \'ck-link-extern\' : \'\') %}">\n                                <img src="{%= item.avatar %}"/>\n                            </a>\n                            {% } else { %}\n                            <span class="ck-avatar">\n                                <img src="{%= item.avatar %}"/>\n                            </span>\n                            {% } %}\n                        {% } %}\n\n                        <div class="ck-author-set">\n\n                            <div class="ck-author-line">\n                                {%= item.authorPrefix.join(\'\') %}\n                                {% if (item.authorUrl) { %}\n                                <a href="{%= item.authorUrl %}" class="ck-author ck-link {%= (item.authorUrlExtern ? \'ck-link-extern\' : \'\') %}">{%= item.author %}</a>\n                                {% } else { %}\n                                <span class="ck-author">{%= item.author %}</span>\n                                {% } %}\n                                {%= item.authorSuffix.join(\'\') %}\n                            </div>\n\n                            {% if (item.authorInfo.length) { %}\n                            <div class="ck-author-info-wrap">\n                                {%= item.authorInfo.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                            {% if (item.authorDesc.length) { %}\n                            <div class="ck-author-desc-wrap">\n                                {%= item.authorDesc.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                        </div>\n\n                        {% if (item.authorMeta.length) { %}\n                        <div class="ck-author-meta-wrap">\n                            {%= item.authorMeta.join(\'\') %}\n                        </div>\n                        {% } %}\n\n\n                    </div>\n                    {% } %}\n\n                </div>\n\n            </div>\n        {% }); %}\n        </div>\n\n    {% } else { %}\n\n        <div class="ck-list">\n            <div class="ck-item blank">\n                <div class="ck-initem">{%=(data.config.blank || \'目前还没有内容\')%}</div>\n            </div>\n        </div>\n\n    {% } %}\n    </div>\n\n    {% if (data.ft) { %}\n    <footer>{%= data.ft %}</footer>\n    {% } %}\n\n</article>\n\n'}
}),define("../cardkit/tpl/unit/list",[],function(){return{template:'\n{% function hd(){ %}\n    {% if (data.hd) { %}\n    <header class="ck-hd-wrap">\n\n        <span class="ck-hd {%= (data.hd_url && \'clickable\' || \'\') %}">\n            {% if (data.hd_url) { %}\n            <a href="{%= data.hd_url %}" class="ck-link ck-link-mask {%= (data.hd_url_extern ? \'ck-link-extern\' : \'\') %}"></a>\n            {% } %}\n            <span>{%= data.hd %}</span>\n        </span>\n\n        {% if (data.hd_opt) { %}\n        <div class="ck-hdopt-wrap">{%=data.hd_opt%}</div>\n        {% } %}\n\n    </header>\n    {% } %}\n{% } %}\n\n{% if (data.hasSplitHd) { %}\n    {%= hd() %}\n{% } %}\n\n<article class="ck-unit-wrap">\n\n    {% if (!data.hasSplitHd) { %}\n        {%= hd() %}\n    {% } %}\n\n    <div class="ck-list-wrap">\n    {% if (data.items.length) { %}\n\n        <div class="ck-list">\n        {% data.items.forEach(function(item, i){ %}\n            {% if (i && (i % data.config.col === 0)) { %}\n            </div><div class="ck-list">\n            {% } %}\n            <div class="ck-item {%= (item.href && \'clickable\' || \'\') %}" \n                    style="width:{%= (data.config.col ? Math.floor(1000/data.config.col)/10 + \'%\' : \'\') %};">\n\n                <div class="ck-initem">\n\n                    {% if (item.href) { %}\n                    <a href="{%= item.href %}" class="ck-link ck-link-mask {%= (item.hrefExtern ? \'ck-link-extern\' : \'\') %}"></a>\n                    {% } %}\n\n                    <div class="ck-title-box">\n\n                        {% if (item.icon) { %}\n                            {% if (item.hrefAlone) { %}\n                            <a href="{%= item.hrefAlone %}" class="ck-icon ck-link {%= (item.hrefExtern ? \'ck-link-extern\' : \'\') %}">\n                                <img src="{%= item.icon %}"/>\n                            </a>\n                            {% } else { %}\n                            <span class="ck-icon">\n                                <img src="{%= item.icon %}"/>\n                            </span>\n                            {% } %}\n                        {% } %}\n\n                        <div class="ck-title-set">\n\n                            {% if (item.title) { %}\n                            <div class="ck-title-line">\n                                {%= item.titlePrefix.join(\'\') %}\n\n                                {% if (item.hrefAlone) { %}\n                                <a href="{%= item.hrefAlone %}" class="ck-link {%= (item.hrefExtern ? \'ck-link-extern\' : \'\') %}">{%= item.title %}</a>\n                                {% } else { %}\n                                <span class="ck-title">{%= item.title %}</span>\n                                {% } %}\n\n                                {%= item.titleSuffix.join(\'\') %}\n                                {%= item.titleTag.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                            {% if (item.info.length) { %}\n                            <div class="ck-info-wrap">\n                                {%= item.info.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                            {% if (item.desc.length) { %}\n                            <div class="ck-desc-wrap">\n                                {%= item.desc.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                        </div>\n\n                        {% if (item.content.length) { %}\n                        <div class="ck-content-wrap">\n                            {%= item.content.join(\'\') %}\n                        </div>\n                        {% } %}\n\n                        {% if (item.meta.length) { %}\n                        <div class="ck-meta-wrap">\n                            {%= item.meta.join(\'\') %}\n                        </div>\n                        {% } %}\n\n                    </div>\n\n                    {% if (item.author || item.authorDesc.length || item.authorMeta.length) { %}\n                    <div class="ck-author-box">\n\n                        {% if (item.avatar) { %}\n                            {% if (item.authorUrl) { %}\n                            <a href="{%= item.authorUrl %}" class="ck-avatar ck-link {%= (item.authorUrlExtern ? \'ck-link-extern\' : \'\') %}">\n                                <img src="{%= item.avatar %}"/>\n                            </a>\n                            {% } else { %}\n                            <span class="ck-avatar">\n                                <img src="{%= item.avatar %}"/>\n                            </span>\n                            {% } %}\n                        {% } %}\n\n                        <div class="ck-author-set">\n\n                            <div class="ck-author-line">\n                                {%= item.authorPrefix.join(\'\') %}\n                                {% if (item.authorUrl) { %}\n                                <a href="{%= item.authorUrl %}" class="ck-author ck-link {%= (item.authorUrlExtern ? \'ck-link-extern\' : \'\') %}">{%= item.author %}</a>\n                                {% } else { %}\n                                <span class="ck-author">{%= item.author %}</span>\n                                {% } %}\n                                {%= item.authorSuffix.join(\'\') %}\n                            </div>\n\n                            {% if (item.authorInfo.length) { %}\n                            <div class="ck-author-info-wrap">\n                                {%= item.authorInfo.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                            {% if (item.authorDesc.length) { %}\n                            <div class="ck-author-desc-wrap">\n                                {%= item.authorDesc.join(\'\') %}\n                            </div>\n                            {% } %}\n\n                        </div>\n\n                        {% if (item.authorMeta.length) { %}\n                        <div class="ck-author-meta-wrap">\n                            {%= item.authorMeta.join(\'\') %}\n                        </div>\n                        {% } %}\n\n\n                    </div>\n                    {% } %}\n\n                </div>\n\n            </div>\n        {% }); %}\n        </div>\n\n    {% } else { %}\n\n        <div class="ck-list">\n            <div class="ck-item blank">\n                <div class="ck-initem">{%=(data.config.blank || \'目前还没有内容\')%}</div>\n            </div>\n        </div>\n\n    {% } %}\n    </div>\n\n    {% if (data.ft) { %}\n    <footer>{%= data.ft %}</footer>\n    {% } %}\n\n</article>\n'}}),define("../cardkit/tpl/unit/box",[],function(){return{template:'\n{% function hd(){ %}\n    {% if (data.hd) { %}\n    <header class="ck-hd-wrap">\n\n        <span class="ck-hd {%= (data.hd_url && \'clickable\' || \'\') %}">\n            {% if (data.hd_url) { %}\n            <a href="{%= data.hd_url %}" class="ck-link ck-link-mask {%= (data.hd_url_extern ? \'ck-link-extern\' : \'\') %}"></a>\n            {% } %}\n            <span>{%= data.hd %}</span>\n        </span>\n\n        {% if (data.hd_opt) { %}\n        <div class="ck-hdopt-wrap">{%=data.hd_opt%}</div>\n        {% } %}\n\n    </header>\n    {% } %}\n{% } %}\n\n{% if (data.config.plain || data.config.plainhd) { %}\n    {%= hd() %}\n{% } %}\n\n<article class="ck-unit-wrap">\n\n    {% if (!data.config.plain && !data.config.plainhd) { %}\n        {%= hd() %}\n    {% } %}\n\n    {% if (data.hasContent) { %}\n    <section>{%= data.content %}</section>\n    {% } %}\n\n    {% if (data.ft) { %}\n    <footer>{%= data.ft %}</footer>\n    {% } %}\n\n</article>\n'}}),define("mo/template/string",[],function(t,e){e.format=function(t,e){return t.replace(/\{\{(\w+)\}\}/g,function(t,n){return null!=e[n]?e[n]:""})},e.escapeHTML=function(t){t=t||"";var e={"<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","{":"&#123;","}":"&#125;","@":"&#64;"};return t.replace(/[<>'"\{\}@]/g,function(t){return e[t]})},e.substr=function(t,e,n){if(!t||"string"!=typeof t)return"";var i=t.substr(0,e).replace(/([^\x00-\xff])/g,"$1 ").substr(0,e).replace(/([^\x00-\xff])\s/g,"$1");return n?n.call(i,i):t.length>i.length?i+"...":i},e.strsize=function(t){return t.replace(/([^\x00-\xff]|[A-Z])/g,"$1 ").length}}),define("mo/template/micro",["mo/lang","mo/template/string"],function(t,e,n,i){function r(t,e,n){var s,a=i.tplSettings,c=n?"#"+n:"";if(/[\t\r\n% ]/.test(t))s=Function(n||"obj","api","var __p=[];"+(n?"":"with(obj){")+"var mix=api.mix,escapeHTML=api.escapeHTML,substr=api.substr,include=api.include,has=api._has("+(n||"obj")+");"+"__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(a.interpolate,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(a.evaluate||null,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');"+(n?"":"}")+"return __p.join('');");else if(s=a._cache[t+c],!s){var l=o.getElementById(t);l&&(s=a._cache[t+c]=r(l.innerHTML,!1,n))}return s?e?s(e,i.tplHelpers):s:""}var o=this.document;i.tplSettings={_cache:{},evaluate:/\{%([\s\S]+?)%\}/g,interpolate:/\{%=([\s\S]+?)%\}/g},i.tplHelpers={mix:t.mix,escapeHTML:e.escapeHTML,substr:e.substr,include:r,_has:function(e){return function(n){return t.ns(n,void 0,e)}}},i.convertTpl=r,i.reloadTpl=function(t){delete i.tplSettings._cache[t]}}),define("mo/template",["mo/lang","mo/template/string","mo/template/micro"],function(t,e,n,i,r){t.mix(r,e,n),r.str2html=function(t){var e=document.createElement("div");e.innerHTML=t;var n=e.firstChild;if(1==e.childNodes.length)return n;var i=document.createDocumentFragment();do i.appendChild(n);while(n=e.firstChild);return i}}),define("../cardkit/render",["dollar","mo/lang","mo/template","../cardkit/tpl/unit/box","../cardkit/tpl/unit/list","../cardkit/tpl/unit/mini","../cardkit/tpl/unit/form","../cardkit/tpl/unit/blank","../cardkit/parser/box","../cardkit/parser/list","../cardkit/parser/mini","../cardkit/parser/form","../cardkit/supports"],function(t,e,n,i,r,o,s,a,c,l,u,h,d){function f(t){window.eval.call(window,t.innerHTML)}var p='script[type="text/cardscript"]',m='<div class="ck-top-tips">'+(d.HIDE_TOPBAR?"长按顶部导航条，可拖出浏览器地址栏":"")+"</div>",v={initCard:function(e,i,r,o){var s=e.find(".ck-box-unit, .ck-mini-unit, .ck-list-unit, .ck-form-unit"),c={blank:e.data("cfgBlank")};o.isModal||e.find(p+'[data-hook="source"]').forEach(f);var l=v.initUnit(s,i);l||o.isModal||"false"==c.blank||e.append(n.convertTpl(a.template,{config:c},"data")),o.isModal||(e.append(r.clone()).prepend(t(".ck-banner-unit",e)).prepend(m),e.find(p+'[data-hook="ready"]').forEach(f))},openCard:function(t,e){e.isModal||t.find(p+'[data-hook="open"]').forEach(f)},closeCard:function(t,e){e.isModal||t.find(p+'[data-hook="close"]').forEach(f)},initUnit:function(e,n){var i;return t(e).forEach(function(t){var e=(/ck-(\w+)-unit/.exec(t.className)||[])[1];e&&v[e](t,n)&&(i=!0)}),i},box:function(e,r){var o=c(e,r);return o.hasContent||o.hd?(e.innerHTML=n.convertTpl(i.template,o,"data"),!0):(t(e).remove(),void 0)},mini:function(e,i){var r=u(e,i);return r.items=r.items.filter(function(t){return t.title||t.author||t.content&&t.content.length?!0:!1},r),r.items.length||r.hd&&"false"!=r.config.blank?(r.config.limit&&r.config.limit<r.items.length&&(r.items.length=r.config.limit),e.innerHTML=n.convertTpl(o.template,r,"data"),!0):(t(e).remove(),void 0)},list:function(e,i){var o=l(e,i);return o.items=o.items.filter(function(t){var e=this.style;if("more"===e||"menu"===e){if(!t.title)return!1}else if("grid"===e){if(!t.icon)return!1}else if(!t.title&&!t.author)return!1;return!0},o),o.config.limit&&o.config.limit<o.items.length&&(o.items.length=o.config.limit),o.items.length||o.hd&&"false"!=o.config.blank?(e.innerHTML=n.convertTpl(r.template,o,"data"),!0):(t(e).remove(),void 0)},form:function(e,i){var r=h(e,i);return r.items.length||r.hd&&"false"!=r.config.blank?(e.innerHTML=n.convertTpl(s.template,r,"data"),!0):(t(e).remove(),void 0)}};return v}),define("eventmaster",["mo/lang/es5","mo/lang/mix","mo/lang/struct"],function(t,e,n){function i(t){var e=this;t&&(this.subject=t.subject,this.trace=t.trace,this.traceStack=t.traceStack||[]),this.doneHandlers=l(),this.failHandlers=l(),this.observeHandlers=l(),this._alterQueue=l(),this._lastDoneQueue=[],this._lastFailQueue=[],this.status=0,this._argsCache=[],this.pipe={},h.forEach(function(t){this[t]=function(){return e[t].call(e,u.call(arguments))}},this.pipe)}function r(){var t=[],e=[],n=new i;return n._when=[],n._count=n._total=arguments.length,Array.prototype.forEach.call(arguments,function(n,i){function r(n){e[i]||(e[i]=!0,t[i]=n,0===--o._count&&(e.length=0,o._count=o._total,o.resolve.call(o,t)))}var o=this;o._when.push(n.bind(r))},n),n}function o(t,e){return t&&t.then?t.then(e.pipe.resolve,e.pipe.reject).progress(e.pipe.notify):void 0!==t&&e.resolve([t]),t}function s(t){return function(e){var n=this.lib[e];return n||(n=this.lib[e]=new i({subject:e,trace:this.trace,traceStack:this.traceStack})),n[t].apply(n,u.call(arguments,1)),this}}function a(t){t&&(this.trace=t.trace,this.traceStack=t.traceStack),this.lib={}}function c(t){return new a(t)}var l=n.fnQueue,u=Array.prototype.slice,h=["notify","fire","error","resolve","reject","reset","disable","enable"],d=i.prototype={then:function(t,e){var n=this.status;return e?2===n?this._resultCache=e.apply(this,this._argsCache):n||(this.failHandlers.push(e),this._lastFailQueue=this.failHandlers):this._lastFailQueue=[],t?1===n?this._resultCache=t.apply(this,this._argsCache):n||(this.doneHandlers.push(t),this._lastDoneQueue=this.doneHandlers):this._lastDoneQueue=[],this},done:function(t){return this.then(t)},fail:function(t){return this.then(!1,t)},cancel:function(t,e){return t&&this.doneHandlers.clear(t),e&&this.failHandlers.clear(e),this},bind:function(t){return this.status&&t.apply(this,this._argsCache),this.observeHandlers.push(t),this},unbind:function(t){return this.observeHandlers.clear(t),this},progress:function(t){var e=this;return this.observeHandlers.push(function(){e.status||t.apply(this,arguments)}),this},notify:function(t){return this._disalbed?this:(this.status=0,this.observeHandlers.apply(this,t||[]),this)},fire:function(t){if(this._disalbed)return this;this.trace&&this._trace(),t=t||[];var e=this.doneHandlers;return this.doneHandlers=this._alterQueue,this.failHandlers.length=0,this.observeHandlers.apply(this,t),e.apply(this,t),e.length=0,this._alterQueue=e,this},error:function(t){if(this._disalbed)return this;this.trace&&this._trace(),t=t||[];var e=this.failHandlers;return this.failHandlers=this._alterQueue,this.doneHandlers.length=0,this.observeHandlers.apply(this,t),e.apply(this,t),e.length=0,this._alterQueue=e,this},resolve:function(t){return this.status=1,this._argsCache=t||[],this.fire(t)},reject:function(t){return this.status=2,this._argsCache=t||[],this.error(t)},reset:function(){return this.status=0,this._argsCache=[],this.doneHandlers.length=0,this.failHandlers.length=0,this},disable:function(){this._disalbed=!0},enable:function(){this._disalbed=!1},merge:function(t){e.merge(this.doneHandlers,t.doneHandlers),e.merge(this.failHandlers,t.failHandlers),e.merge(this.observeHandlers,t.observeHandlers);var n=t.subject;e.mix(t,this),t.subject=n},_trace:function(){this.traceStack.unshift(this.subject),this.traceStack.length>this.trace&&this.traceStack.pop()},follow:function(){var t=new i;if(t._prevActor=this,this.status)o(this._resultCache,t);else{var e=this._lastDoneQueue.pop();e&&this._lastDoneQueue.push(function(){return o(e.apply(this,arguments),t)});var n=this._lastFailQueue.pop();n&&this._lastFailQueue.push(function(){return o(n.apply(this,arguments),t)})}return t},end:function(){return this._prevActor},all:function(){var t=r.apply(this,this._when);return t},any:function(){var t=r.apply(this,this._when);return t._count=t._total=1,t},some:function(t){var e=r.apply(this,this._when);return e._count=e._total=t,e}},f=a.prototype=function(t){for(var e in d)t[e]=s(e);return t}({});return f.once=f.wait=f.then,f.on=f.bind,f.off=f.unbind,f.promise=function(t){var e=this.lib[t];return e||(e=this.lib[t]=new i({subject:t,trace:this.trace,traceStack:this.traceStack})),e},f.when=function(){for(var t=[],e=0,n=arguments.length;n>e;e++)t.push(this.promise(arguments[e]));return r.apply(this,t)},c.Promise=i,c.Event=a,c.when=r,c.pipe=o,c.VERSION="2.1.0",c}),define("../cardkit/bus",["eventmaster"],function(t){return t()}),define("moui/overlay",["mo/lang","dollar","eventmaster","mo/template/string"],function(t,e,n,i){function r(t){this.init(t),this.set(this._config)}function o(t){return new o.Overlay(t)}var s=e("body"),a="mouiOverlay",c='<div id="{{id}}" class="{{cname}}">                <header><h2></h2></header>                <article></article>            </div>',l='<span class="loading"><i>.</i><i>.</i><i>.</i></span>',u="加载中",h=0,d={title:"",content:"",className:"moui-overlay",openDelay:50,closeDelay:0,event:{}};return r.prototype={_ns:a,_template:c,_defaults:d,init:function(r){return this.id=this._ns+ ++h,this.event=n(),this._config=t.config({},r,this._defaults),s.append(i.format(this._template,{id:this.id,cname:this._config.className})),this._node=e("#"+this.id),this._header=this._node.find("header").eq(0),this._title=this._header.find("h1"),this._content=this._node.find("article").eq(0),this},set:function(e){return e?(t.config(this._config,e,this._defaults),"string"==typeof e.title&&this.setTitle(e.title),void 0!==e.content&&this.setContent(e.content),void 0!==e.className&&(this._node[0].className=e.className),this):this},setTitle:function(t){return this._title.html(t),this},setContent:function(t){return this._content.html(t),this},showLoading:function(t){return this._node.addClass("loading"),this._title.html((t||u)+l),this},hideLoading:function(){return this._node.removeClass("loading"),this._title.html(this._config.title),this},open:function(){if(clearTimeout(this._actimer),this.isOpened)return this.cancelClose(),this;var t=this,e=arguments;return this.prepareOpen.apply(t,e),this._actimer=setTimeout(function(){t.applyOpen.apply(t,e)},this._config.openDelay),this},close:function(){if(clearTimeout(this._actimer),!this.isOpened)return this.cancelOpen(),this;var t=this,e=arguments;return this.prepareClose.apply(t,e),this._actimer=setTimeout(function(){t.applyClose.apply(t,e)},this._config.closeDelay),this},prepareOpen:function(){this._node.appendTo(s).addClass("rendered"),this.event.fire("prepareOpen",[this])},prepareClose:function(){this.event.fire("prepareClose",[this]),this._node.removeClass("active")},cancelOpen:function(){this._node.removeClass("rendered"),this.event.fire("cancelOpen",[this])},cancelClose:function(){this._node.addClass("active"),this.event.fire("cancelClose",[this])},applyOpen:function(){this.isOpened=!0,this._node.addClass("active"),this.event.fire("open",[this])},applyClose:function(){this.isOpened=!1,this._content.empty(),this._node.removeClass("rendered"),this.event.fire("close",[this])},destroy:function(){return this._node.remove(),this.event.fire("destroy",[this]),this}},o.Overlay=r,o}),define("moui/growl",["dollar","mo/lang","mo/template","moui/overlay"],function(t,e,n,i){function r(t){t._exptimer=setTimeout(function(){t.close()},t._config.expires)}function o(t){return new o.Growl(t)}var s="mouiGrowl",a='<div id="{{id}}" class="moui-growl">                <header><h2></h2></header>                <article></article>            </div>',c="corner-",l={className:"moui-growl",closeDelay:300,corner:"center",expires:1400,keepalive:!1},u=e.construct(i.Overlay);return e.mix(u.prototype,{_ns:s,_template:a,_defaults:e.merge({},l,u.prototype._defaults),set:function(t){var e=this;return e.superClass.set.call(e,t),t.corner&&t.corner!==e._currentCorner&&(e._currentCorner&&e._node.removeClass(c+e._currentCorner),e._node.addClass(c+t.corner),e._currentCorner=t.corner),void 0!==t.expires&&(clearTimeout(e._exptimer),e.isOpened&&r(e)),e},applyOpen:function(){return clearTimeout(this._exptimer),-1!=this._config.expires&&r(this),this.superClass.applyOpen.apply(this,arguments)},applyClose:function(){this.isOpened=!1,this._node.removeClass("rendered"),this.event.fire("close",[this]),this._config.keepalive||this.destroy()}}),o.Growl=u,o}),define("../cardkit/view/growl",["mo/lang","dollar","moui/growl"],function(t,e,n){function i(i,a){var c,l={corner:"bottom"};i.nodeName?(i=e(i),c=i[0][r],c&&s[c]&&s[c].close(),c=i[0][r]=++o,a=t.mix(l,i.data(),a)):a=t.mix(l,i),a.className="ck-growl";var u=n(a);return c&&(s[c]=u),u}var r="_ckGrowlUid",o=0,s={};return i}),define("moui/control",["mo/lang","dollar","eventmaster"],function(t,e,n){function i(t,e){this.init(t,e),this.set(this._config)}function r(t,e){return new r.Control(t,e)}var o={field:null,label:null,numField:null,numStep:1,enableVal:1,disableVal:0,enableLabel:"",disableLabel:"",loadingLabel:"稍等..."};return i.prototype={_defaults:o,init:function(i,r){this.event=n();var o=this._node=e(i);o.hasClass("enabled")&&(this.isEnabled=!0),this._numField=[],r=t.mix({field:o,label:o},this.data(),r),this.setNodes(r),this._label[0]&&(this._isLabelClose=this._label.isEmpty()),this._numField[0]&&(this._isNumFieldClose=this._numField.isEmpty()),this.isEnabled?(r.enableVal=this.val(),r.enableLabel=this.label()):(r.disableVal=this.val(),r.disableLabel=this.label()),this._config=t.config({},r,this._defaults)},set:function(e){return e?(t.mix(this._config,e),this.setNodes(e),this):this},setNodes:function(t){return void 0!==t.field&&(this._field=t.field?e(t.field,"string"==typeof t.field&&this._node):[]),void 0!==t.label&&(this._label=t.label?e(t.label,"string"==typeof t.label&&this._node):[]),void 0!==t.numField&&(this._numField=t.numField?e(t.numField,"string"==typeof t.numField&&this._node):[]),this},val:function(t){return this._field[0]?"A"===this._field[0].nodeName?this._field.attr("href",t):this._field.val(t):void 0},label:function(t){return this._label[0]?this._isLabelClose?this._label.val(t):this._label.html(t):void 0},num:function(t){return this._numField[0]?this._isNumFieldClose?this._numField.val(null!=t?parseFloat(this._numField.val())+t:void 0):this._numField.html(null!=t?parseFloat(this._numField.html())+t:void 0):void 0},data:function(){return this._node.data()},showLoading:function(){return this._node.addClass("loading"),this.label(this._config.loadingLabel),this},hideLoading:function(){return this._node.removeClass("loading"),this},toggle:function(){return this.isEnabled?this.disable():this.enable(),this},enable:function(){return this.isEnabled?this:(this.isEnabled=!0,this._node.addClass("enabled"),this.val(this._config.enableVal),this.num(this._config.numStep),this._config.enableLabel&&this.label(this._config.enableLabel),this.event.reset("disable").resolve("enable",[this]),this)},disable:function(){return this.isEnabled?(this.isEnabled=!1,this._node.removeClass("enabled"),this.val(this._config.disbleVal),this.num(0-this._config.numStep),this._config.disableLabel&&this.label(this._config.disableLabel),this.event.reset("enable").resolve("disable",[this]),this):this}},r.Control=i,r}),define("moui/picker",["mo/lang","dollar","eventmaster","moui/control"],function(t,e,n,i){function r(t,e){this.init(t,e),this.set(this._config)}function o(t){a.call(this,"enable",t),this.event.fire("change",[this,t])}function s(t){a.call(this,"disable",t),this.event.fire("change",[this,t])}function a(t,e){if("enable"===t)if(this._config.multiselect)this._allSelected.push(e);else{var n=this._lastSelected;this._lastSelected=e,n&&n.disable()}else if(this._config.multiselect){var i=this._allSelected.indexOf(e);-1!==i&&this._allSelected.splice(i,1)}else{if(e&&this._lastSelected!==e)return;this._lastSelected=null}this._field[0]&&this._field.val(this.val())}function c(t,e){return new c.Picker(t,e)}var l="_moPickerOid",u={field:'input[type="hidden"]',options:".option",ignoreRepeat:!1,ignoreStatus:!1,multiselect:!1};return r.prototype={_defaults:u,init:function(i,r){return this._uoid=0,this.event=n(),this._node=e(i),this._options=[],r=t.mix({},this.data(),r),this._config=t.config({},r,this._defaults),this},set:function(n){return n?(t.mix(this._config,n),void 0!==n.multiselect&&(n.multiselect?this._allSelected||(this._allSelected=[]):(this._allSelected=null,this._lastSelected=null)),void 0!==n.field&&(this._field=n.field?e(n.field,"string"==typeof n.field&&this._node):[]),n.options&&(this._options.forEach(this.removeOption,this),e(n.options,this._node).forEach(this.addOption,this)),this):this},addOption:function(t){if(t=e(t)[0],!t[l]){t[l]=++this._uoid;var n=i(t,{enableVal:t.value,label:!1});return n.event.bind("enable",o.bind(this)).bind("disable",s.bind(this)),this._options.push(n),n.isEnabled&&a.call(this,"enable",n),this}},removeOption:function(t){var e;return t.constructor===i.Control?(e=t,t=t._node[0]):e=this.getOption(t),this.unselect(t),e&&this._options.splice(this._options.indexOf(e),1),this},getOption:function(t){if("number"==typeof t)t=this._options[t];else if("string"==typeof t)t=this._options.filter(function(e){return e.val()===t})[0];else{var n=e(t)[0][l];if(!n)return null;t=this._options.filter(function(t){return t._node[0][l]===n})[0]}return t},getOptions:function(){return this._options},getSelected:function(){return this._config.multiselect?this._allSelected||[]:this._lastSelected?[this._lastSelected]:[]},val:function(){return this._config?this._config.multiselect?this._allSelected.map(function(t){return t.val()}):this._lastSelected?this._lastSelected.val():void 0:void 0},data:function(){return this._node.data()},showLoading:function(){return this._node.addClass("loading"),this},hideLoading:function(){return this._node.removeClass("loading"),this},undo:function(){return this._lastActionTarget&&this._lastActionTarget.toggle(),this},selectAll:function(){return this._config.multiselect&&this._options.forEach(function(t){t.enable()}),this._lastActionTarget=null,this},unselectAll:function(){return this._config.multiselect?(this._options.forEach(function(t){t.disable()}),this._lastActionTarget=null):this.undo(),this},selectInvert:function(){return this._config.multiselect&&this._options.forEach(function(t){t.toggle()}),this._lastActionTarget=null,this},select:function(t){var e=this.getOption(t);if(e)if(!this._config.multiselect&&this._config.ignoreStatus)a.call(this,"enable",e),this.event.fire("change",[this,e]);else{if((this._config.multiselect&&-1!==this._allSelected.indexOf(e)||!this._config.multiselect&&this._lastSelected===e)&&!this._config.ignoreRepeat)return this.unselect(t);this._lastActionTarget=e.enable()}return this},unselect:function(t){if(t){var e=this.getOption(t);e&&(this._lastActionTarget=e.disable())}else this.unselectAll();return this}},c.Picker=r,c}),define("moui/actionview",["dollar","mo/lang","mo/template/string","moui/overlay","moui/picker"],function(t,e,n,i,r){function o(t){return new o.ActionView(t)}var s=e.mix,a="mouiActionView",c='<div id="{{id}}" class="{{cname}}">                <div class="shd"></div>                <div class="wrapper">                    <div class="content">                        <header><h1></h1></header>                        <div class="desc"></div>                        <article></article>                    </div>                </div>                <footer>                    <input type="button" class="cancel">                    <input type="button" class="confirm" data-is-default="true">                </footer>            </div>',l={className:"moui-actionview",closeDelay:500,confirmText:"确认",cancelText:"取消",options:null,multiselect:!1},u=e.construct(i.Overlay);return s(u.prototype,{_ns:a,_template:c,_defaults:e.merge({},l,u.prototype._defaults),init:function(t){return this.superClass.init.call(this,t),this._wrapper=this._node.find(".wrapper").eq(0),this._actionsWrapper=this._content,this._wrapperContent=this._wrapper.find(".content").eq(0),this._content=this._wrapper.find(".desc").eq(0),this._footer=this._node.find("footer").eq(-1),this._confirmBtn=this._footer.find(".confirm"),this._cancelBtn=this._footer.find(".cancel"),this},set:function(e){if(!e)return this;if(this.superClass.set.call(this,e),void 0!==e.options){this._actionsWrapper.empty();var n=e.options?t(e.options).clone():[];n.length?(this._actionsWrapper.append(n),this._picker=r(this._actionsWrapper,{options:n,multiselect:this._config.multiselect,ignoreStatus:!this._config.multiselect}),this._node.removeClass("confirm-kind")):this._node.addClass("confirm-kind")}return void 0!==e.multiselect&&(e.multiselect?this._footer.addClass("multi"):this._footer.removeClass("multi")),e.confirmText&&this._confirmBtn.val(e.confirmText),e.cancelText&&this._cancelBtn.val(e.cancelText),this},val:function(){return this._picker?this._picker.val():void 0},confirm:function(){return this.event.fire("confirm",[this,this._picker]),this.ok()},cancel:function(){return this.event.fire("cancel",[this,this.picker]),this.ok()},ok:function(){return this.close(),this.event.promise("close")},applyOpen:function(){if(!this._config.multiselect&&this._picker){var t=this;this._picker.event.once("change",function(){t.confirm()})}this.superClass.applyOpen.apply(this,arguments)},applyClose:function(){!this._config.multiselect&&this._picker&&this._picker.event.reset(),this.superClass.applyClose.apply(this,arguments)}}),u.prototype.done=u.prototype.ok,["select","unselect","undo","selectAll","unselectAll","selectInvert"].forEach(function(t){this[t]=function(){return this._picker[t].apply(this._picker,arguments)}},u.prototype),o.ActionView=u,o}),define("../cardkit/view/actionview",["mo/lang","dollar","moui/actionview","../cardkit/bus"],function(t,e,n,i){function r(t,c){var l=t;if("object"==typeof t?(t=e(t),l=t[0][o]):t=!1,l&&a[l])return a[l].set(c);t&&(l=t[0][o]=++s),c=c||{},c.className="ck-actionview";var u=a[l]=n(c),h={component:u};return u.event.bind("prepareOpen",function(t){r.current=t,i.fire("actionView:prepareOpen",[t])}).bind("cancelOpen",function(t){r.current=null,i.fire("actionView:cancelOpen",[t])}).bind("open",function(e){i.fire("actionView:open",[e]),t&&t.trigger("actionView:open",h)}).bind("close",function(){r.current=null,i.unbind("actionView:confirmOnThis"),i.fire("actionView:close",[u]),t&&t.trigger("actionView:close",h)}).bind("cancel",function(){t&&t.trigger("actionView:cancel",h)}).bind("confirm",function(e,n){if(i.fire("actionView:confirmOnThis",[e]),t&&t.trigger("actionView:confirm",h),n&&n._lastSelected){var r=n._lastSelected._node.attr("target");r&&i.fire("actionView:jump",[e,n.val(),r])}}),u}var o="_ckActionViewUid",s=0,a={};return r}),define("moui/modalview",["dollar","mo/lang","mo/template/string","moui/overlay"],function(t,e,n,i){function r(t){return new r.ModalView(t)}var o=e.mix,s="mouiModalView",a='<div id="{{id}}" class="{{cname}}">                <div class="shd"></div>                <div class="wrapper">                    <header>                        <button type="button" class="confirm" data-is-default="true"></button>                        <button type="button" class="cancel"></button>                        <h1></h1>                    </header>                    <article><div class="content"></div></article>                </div>            </div>',c={className:"moui-modalview",iframe:!1,hideConfirm:!1,confirmText:"确认",cancelText:"取消"},l=e.construct(i.Overlay);return o(l.prototype,{_ns:s,_template:a,_defaults:e.merge({},c,l.prototype._defaults),init:function(t){return this.superClass.init.call(this,t),this._wrapper=this._node.find(".wrapper").eq(0),this._contentWrapper=this._wrapper.find("article").eq(0),this._content=this._contentWrapper.find(".content").eq(0),this._confirmBtn=this._header.find(".confirm"),this._cancelBtn=this._header.find(".cancel"),this},set:function(t){if(!t)return this;var e=this;return e.superClass.set.call(e,t),void 0!==t.content?e._config.iframe=null:t.iframe&&e._setIframeContent(t),void 0!==t.hideConfirm&&(t.hideConfirm?this._confirmBtn.hide():this._confirmBtn.show()),t.confirmText&&this._confirmBtn.html(t.confirmText),t.cancelText&&this._cancelBtn.html(t.cancelText),e
},setContent:function(t){return this.superClass.setContent.call(this,t),t&&this.event.fire("contentchange",[this]),this},_setIframeContent:function(){var e=this;this._clearIframeContent(),e.setContent(""),e.showLoading(),e._iframeContent=t('<iframe class="moui-modalview-iframebd" frameborder="0" scrolling="no" style="visibility:hidden;width:100%;"></iframe>').bind("load",function(){try{if(!this.contentWindow.document.body.innerHTML)return;if(e._iframeWindow=t(this.contentWindow),!e._iframeContent&&e._iframeWindow[0].location.href!==e._config.iframe)return;e._iframeContent[0].style.visibility="",e.event.resolve("frameOnload",[e]),e.hideLoading()}catch(n){}}).appendTo(e._content)},_clearIframeContent:function(){this._iframeContent&&(this._iframeContent.remove(),this._iframeContent=null),this.event.reset("frameOnload")},confirm:function(){return this.event.fire("confirm",[this]),this},cancel:function(){return this.event.fire("cancel",[this]),this.ok(),this},ok:function(){return this.close(),this.event.promise("close")},applyOpen:function(){this.superClass.applyOpen.apply(this,arguments),this._config.iframe&&this._iframeContent.attr("src",this._config.iframe)},applyClose:function(){this._clearIframeContent(),this._contentWrapper[0].scrollTop=0,this.superClass.applyClose.apply(this,arguments)}}),l.prototype.done=l.prototype.ok,r.ModalView=l,r}),define("mo/network/ajax",["mo/browsers"],function(browsers,require,exports){var httpParam=function(t){var e=[];if(t.constructor==Array)for(var n=0;t.length>n;n++)e.push(t[n].name+"="+encodeURIComponent(t[n].value));else for(var i in t)e.push(i+"="+encodeURIComponent(t[i]));return e.join("&").replace(/%20/g,"+")},ajax=function(s){function httpSuccess(t){try{return!t.status&&"file:"==location.protocol||t.status>=200&&300>t.status||304==t.status||1223==t.status||browsers.safari&&!t.status}catch(e){}return!1}function httpData(r,type){var ct=r.getResponseHeader("content-type"),xml="xml"==type||!type&&ct&&ct.indexOf("xml")>=0,data=xml?r.responseXML:r.responseText;if(xml&&"parsererror"==data.documentElement.tagName)throw"parsererror";return"script"==type&&eval.call(window,data),"json"==type&&(data=eval("("+data+")")),data}var options={type:s.type||"GET",url:s.url||"",data:s.data||null,dataType:s.dataType,contentType:s.contentType===!1?!1:s.contentType||"application/x-www-form-urlencoded",username:s.username||null,password:s.password||null,timeout:s.timeout||0,processData:void 0===s.processData?!0:s.processData,beforeSend:s.beforeSend||function(){},complete:s.complete||function(){},handleError:s.handleError||function(){},success:s.success||function(){},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}};options.data&&options.processData&&"string"!=typeof options.data&&(options.data=httpParam(options.data)),options.data&&"get"==options.type.toLowerCase()&&(options.url+=(options.url.match(/\?/)?"&":"?")+options.data,options.data=null);var status,data,requestDone=!1,xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open(options.type,options.url,!0,options.username,options.password);try{options.data&&options.contentType!==!1&&xhr.setRequestHeader("Content-Type",options.contentType),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.setRequestHeader("Accept",s.dataType&&options.accepts[s.dataType]?options.accepts[s.dataType]+", */*":options.accepts._default)}catch(e){}options.beforeSend&&options.beforeSend(xhr);var onreadystatechange=function(t){if(!requestDone&&xhr&&(4==xhr.readyState||"timeout"==t)){if(requestDone=!0,ival&&(clearInterval(ival),ival=null),status="timeout"==t&&"timeout"||!httpSuccess(xhr)&&"error"||"success","success"==status){try{data=httpData(xhr,options.dataType)}catch(e){status="parsererror"}options.success(data,status)}else options.handleError(xhr,status);options.complete(xhr,status),xhr=null}},ival=setInterval(onreadystatechange,13);return options.timeout>0&&setTimeout(function(){xhr&&(xhr.abort(),requestDone||onreadystatechange("timeout"))},options.timeout),xhr.send(options.data),xhr};exports.ajax=ajax,exports.params=httpParam}),define("mo/network",["mo/lang","mo/network/ajax"],function(_,net,require,exports){var window=this,uuid4jsonp=1;_.mix(exports,net),exports.getScript=function(t,e){var n=_.isWindow(this)?this.document:document,i=n.createElement("script");i.type="text/javascript",i.async="async",e?_.isFunction(e)&&(e={callback:e}):e={},e.charset&&(i.charset=e.charset),i.src=t;var r=n.getElementsByTagName("head")[0];i.onload=i.onreadystatechange=function(t,n){(n||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,r&&i.parentNode&&r.removeChild(i),i=void 0,!n&&e.callback&&e.callback())},r.insertBefore(i,r.firstChild)},exports.getStyle=function(t){var e=this.document||document,n=e.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",t);var i=e.getElementsByTagName("head")[0];i.appendChild(n)};var RE_DOMAIN=/https?\:\/\/(.+?)\//;exports.getJSON=function(t,e,n,i){var r=t.match(RE_DOMAIN);if((!e||_.isFunction(e))&&(i=n,n=e,e={}),n&&!(i&&i.isScript||r&&r[1]!==window.location.host))return exports.ajax({url:t,data:e,success:n,error:i&&i.error,dataType:"json"}),!0;i=_.mix({charset:"utf-8",callback:"__oz_jsonp"+ ++uuid4jsonp},i||{}),i.random&&(e[i.random]=+new Date);var o=i.callbackName||"jsoncallback";e[o]=i.callback,t=[t,/\?/.test(t)?"&":"?",exports.httpParam(e)].join(""),n&&_.ns(i.callback,n),delete i.callback,exports.getScript(t,i)},exports.getRequest=function(t,e){var n=new Image;n.onload=function(){n=null},n.src=e?[t,/\?/.test(t)?"&":"?","string"==typeof e?e:exports.httpParam(e)].join(""):t},exports.parseJSON=function(json){json=json.replace(/^[\w(<\/*!\s]*?\{/,"{").replace(/[^\}]*$/,"");try{json=window.JSON?window.JSON.parse(json):eval(json)}catch(ex){json=!1}return json}}),define("../cardkit/view/modalcard",["dollar","mo/network","moui/modalview"],function(t,e,n){var i=n({className:"ck-modalview",closeDelay:400}),r=i.set;return i.set=function(n){if(!n)return this;var i=this,o=n.jsonUrl||n.url;return o&&(n.content="",i.showLoading(),e.ajax({url:o,dataType:n.jsonUrl?"json":"text",success:function(t){n.jsonUrl&&(t=t.html),i.setContent(t),i.hideLoading()}})),n.iframeUrl&&(n.iframe=n.iframeUrl),n.source&&(n.content=t("."+n.source).map(function(e){var n=t(e).attr("type");return"text/cardscript"===n||"text/jscode"===n?"<script>"+e.innerHTML+"</script>":e.innerHTML}).join("")),r.call(this,n)},i.ok=i.done=function(){return history.back(),this.event.promise("close")},i.event.bind("confirm",function(t){t.event.fire("confirmOnThis",arguments)}).bind("close",function(t){t.event.unbind("confirmOnThis")}),i}),define("moui/slider",["mo/lang","dollar","eventmaster"],function(t,e,n){function i(t,e){this.init(t,e)}function r(t,e){return new r.Slider(t,e)}return i.prototype={init:function(t){var i,r=this._node=e(t);this.event=n(),r.data("init")||(r.data("init",!0),this._field=i=r.find(".slider-field"),this._hoverArea=r.find(".slider-hover"),this._selectedArea=r.find(".slider-selected"),this._step=i.attr("step"),this._max=i.attr("max"),this._min=i.attr("min"),this._stepWidth=this._step*r.width()/(this._max-this._min))},calc:function(t){var e=t.changedTouches?t.changedTouches[0].pageX:t.pageX,n=this._node,i=this._stepWidth,r=this._step,o=e-n.offset().left;return o>n.width()?o=n.width():0>o&&(o=0),Math.ceil(o/i)*r},val:function(t){if(this._field[0]){var e=this._field.val(t);return void 0!==t&&this.event.fire("change"),e}},show:function(t){var e=this._stepWidth,n=this._selectedArea,i=this._hoverArea;i.hide(),n.css({width:t*e}).show()},pretend:function(t){var e=this._stepWidth,n=this._selectedArea,i=this._hoverArea,r=t*e;i.data("width")!=r&&(n.hide(),i.css({width:r}).show().data("width",r))}},r.Slider=i,r}),define("../cardkit/view/stars",["mo/lang","dollar","mo/network","moui/slider"],function(t,e,n,i){function r(t){t=e(t);var n=t[0][o];if(n&&a[n])return a[n];n=t[0][o]=++s;var r=a[n]=i(t);return r.event.bind("change",function(){var t=r.val();r.show(t)}),r}var o="_ckStarsUid",s=0,a={};return r.gc=function(t){for(var e in a)t(a[e])&&delete a[e]},r}),define("../cardkit/view/picker",["mo/lang","dollar","mo/network","moui/picker"],function(t,e,n,i){function r(t,e){var i=t.jsonUrl||t.url;if(i){var r;i=i.replace(/\?(.+)$/,function(t,e){return r=e.replace(/#.*/,""),""}),n.ajax({url:i,data:r,type:t.method||"post",dataType:t.jsonUrl?"json":"text",success:e})}else e(!1)}function o(n,o){n=e(n);var l=n[0][s];if(l&&c[l])return c[l].set(o);l=n[0][s]=++a,o=t.mix({options:".ck-option"},o||{});var u=c[l]=i(n,o);return u.event.bind("change",function(t,e){var i,o=e.data(),s={component:t};t.showLoading(),i=e.isEnabled?{method:o.requestMethod,url:o.enableUrl,jsonUrl:o.enableJsonUrl}:{method:o.requestMethod,url:o.disableUrl,jsonUrl:o.disableJsonUrl},r(i,function(e){t.hideLoading(),e!==!1&&(t.responseData=e,n.trigger("picker:response",s))}),n.trigger("picker:change",s)}),u}var s="_ckPickerUid",a=0,c={};return o.gc=function(t){for(var e in c)t(c[e])&&delete c[e]},o}),define("../cardkit/view/control",["mo/lang","dollar","mo/network","moui/control"],function(t,e,n,i){function r(t,n){t=e(t);var i=t[0][o];if(i&&a[i])return a[i].set(n);i=t[0][o]=++s;var c=a[i]=new r.Control(t,n);return c.event.bind("enable",function(e){t.trigger("control:enable",{component:e})}).bind("disable",function(e){t.trigger("control:disable",{component:e})}),c}var o="_ckControlUid",s=0,a={},c=t.construct(i.Control);return t.mix(c.prototype,{enable:function(){var t=this.data();return this.request({method:t.requestMethod,url:t.enableUrl,jsonUrl:t.enableJsonUrl},function(){this.superClass.enable.call(this)})},disable:function(){var t=this.data();return this.request({method:t.requestMethod,url:t.disableUrl,jsonUrl:t.disableJsonUrl},function(){this.superClass.disable.call(this)})},request:function(t,e){var i=this,r=t.jsonUrl||t.url;if(r){var o;r=r.replace(/\?(.+)$/,function(t,e){return o=e.replace(/#.*/,""),""}),i.showLoading(),n.ajax({url:r,data:o,type:t.method||"post",dataType:t.jsonUrl?"json":"text",success:function(t){i.hideLoading(),i.responseData=t,e.call(i)}})}else e.call(i);return this}}),r.Control=c,r.gc=function(t){for(var e in a)t(a[e])&&delete a[e]},r}),define("momo/base",["mo/lang/es5","mo/lang/type","mo/lang/mix"],function(t,e,n){function i(t,e,n){(!e||s(e))&&(n=e,e={}),this._listener=n;var i=n&&++a;this.event={},this.EVENTS.forEach(function(t){this[t]=t+(n?"_"+i:"")},this.event),this.node=t,this._config={event:this.EVENTS[0]},this.config(e),this.enable()}function r(){}function o(t,e,n){return new o.Class(t,e,n)}var s=e.isFunction,a=0,c=!1;try{document.createEvent("TouchEvent"),c=!0}catch(l){}return i.prototype={SUPPORT_TOUCH:c,PRESS:c?"touchstart":"mousedown",MOVE:c?"touchmove":"mousemove",RELEASE:c?"touchend":"mouseup",EVENTS:[],DEFAULT_CONFIG:{},config:function(t){return n.merge(n.mix(this._config,t),this.DEFAULT_CONFIG),this},enable:function(){var t=this;return t.bind(t.PRESS,t._press||(t._press=t.press.bind(t))).bind(t.MOVE,t._move||(t._move=t.move.bind(t))).bind(t.CANCEL,t._cancel||(t._cancel=t.cancel.bind(t))).bind(t.RELEASE,t._release||(t._release=t.release.bind(t))),t._listener&&t.bind(this.event[this._config.event],t._listener),t},disable:function(){var t=this;return t.unbind(t.PRESS,t._press).unbind(t.MOVE,t._move).unbind(t.CANCEL,t._cancel).unbind(t.RELEASE,t._release),t._listener&&t.unbind(this.event[this._config.event],t._listener),t},once:function(t,e,n){function i(){return r.unbind(t,i,n),e.apply(this,arguments)}var r=this;this.bind(t,i,n)},bind:r,unbind:r,trigger:r,press:r,move:r,release:r,cancel:r},o.Class=i,o}),define("momo/scroll",["mo/lang","momo/base"],function(t,e){function n(t,e,i){return new n.Class(t,e,i)}var i=t.construct(e.Class);return t.mix(i.prototype,{EVENTS:["scrolldown","scrollup","scrollstart","scrollend"],DEFAULT_CONFIG:{directThreshold:5,scrollEndGap:5},watchScroll:function(t){this.scrollingNode=t},checkScollDirection:function(t){var e={target:this.node},n=t-this._lastY,i=this._config.directThreshold;0-i>n?(this._scrollDown!==!0&&this.trigger(e,this.event.scrolldown),this._lastY=t,this._scrollDown=!0):n>i&&(this._scrollDown!==!1&&this.trigger(e,this.event.scrollup),this._lastY=t,this._scrollDown=!1)},press:function(t){var e=this,n=this.SUPPORT_TOUCH?t.touches[0]:t;if(e._scrollDown=null,e._lastY=n.clientY,e._scrollY=null,e._ended=!1,e.scrollingNode){var i=e._scrolling;e._scrolling=!1;var r=e._tm=t.timeStamp;e.once(e.MOVE,function(){e.once("scroll",function(){r===e._tm&&(i||(e._started=!0,e.trigger({target:e.node},e.event.scrollstart),e._ended&&(e._ended=!1,e.trigger({target:e.node},e.event.scrollend))))},e.scrollingNode)})}},move:function(t){var e=this.SUPPORT_TOUCH?t.touches[0]:t;this.checkScollDirection(e.clientY),this.scrollingNode&&(this._scrollY=this.scrollingNode.scrollTop)},release:function(t){var e=this,n=this.SUPPORT_TOUCH?t.changedTouches[0]:t,i={target:e.node};if(this.checkScollDirection(n.clientY),null!==e._scrollY){var r=e.scrollingNode,o=Math.abs(r.scrollTop-e._scrollY)||0;if(e._scrollY>=0&&e._scrollY<=r.scrollHeight+r.offsetHeight&&e._config.scrollEndGap>o)e._started?(e.trigger(i,e.event.scrollend),e._started=!1):e._ended=!0;else{var s=e._tm;e._scrolling=!0,e.once("scroll",function(){s===e._tm&&(e._scrolling=!1,e._started=!1,e.trigger(i,e.event.scrollend))},r)}e._scrollY=null}else e._started&&(e._started=!1,e.trigger(i,e.event.scrollend))}}),n.Class=i,n}),define("momo/drag",["mo/lang","momo/base"],function(t,e){function n(t,e,i){return new n.Class(t,e,i)}var i=t.construct(e.Class);return n.Class=i,n}),define("momo/swipe",["mo/lang","momo/base"],function(t,e){function n(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function i(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}function r(t,e){var n,r,o=i(t,e),s={down:o>=45&&135>o,left:o>=135||-135>=o,up:-45>o&&o>-135,right:o>=-45&&45>=o};for(r in s)if(s[r]){n=r;break}return n}function o(t,e,n){return new o.Class(t,e,n)}var s=t.construct(e.Class);return t.mix(s.prototype,{EVENTS:["swipeup","swipedown","swiperight","swipeleft"],DEFAULT_CONFIG:{timeThreshold:200,distanceThreshold:20},press:function(t){var e=this.SUPPORT_TOUCH?t.touches[0]:t;this._startX=e.clientX,this._startY=e.clientY,this._moveX=0/0,this._moveY=0/0,this._startTime=t.timeStamp},move:function(t){var e=this.SUPPORT_TOUCH?t.touches[0]:t;this._moveX=e.clientX,this._moveY=e.clientY},release:function(t){var e=this,i={x:e._startX,y:e._startY},o={x:e._moveX,y:e._moveY},s=n(i,o),a=r(i,o),c=t.timeStamp-e._startTime;e._config.timeThreshold>c&&s>e._config.distanceThreshold&&e.trigger(t,e.event["swipe"+a])}}),o.Class=s,o}),define("momo/tap",["mo/lang","momo/base"],function(t,e){function n(t){return t._moveTarget&&t._moveTarget!==t._startTarget||Math.abs(t._movePosX-t._startPosX)>t._config.tapRadius||Math.abs(t._movePosY-t._startPosY)>t._config.tapRadius?!0:void 0}function i(){}function r(t,e,n){return new r.Class(t,e,n)}var o=t.construct(e.Class);return t.mix(o.prototype,{EVENTS:["tap","doubletap","hold","tapstart","tapcancel"],DEFAULT_CONFIG:{tapRadius:10,doubleTimeout:300,tapThreshold:0,holdThreshold:500},press:function(t){var e=this,r=e.SUPPORT_TOUCH?t.touches[0]:t;e._startTime=t.timeStamp,e._startTarget=r.target,e._startPosX=r.clientX,e._startPosY=r.clientY,e._movePosX=e._movePosY=e._moveTarget=0/0,e._started=!1,e._pressTrigger=function(){e._started=!0,e.trigger(t,e.event.tapstart),e._pressTrigger=i},e._activeTimer=setTimeout(function(){n(e)||e._pressTrigger()},e._config.tapThreshold)},move:function(t){var e=this.SUPPORT_TOUCH?t.touches[0]:t;this._moveTarget=e.target,this._movePosX=e.clientX,this._movePosY=e.clientY},release:function(t){var e=this,i=t.timeStamp,r=n(e);return clearTimeout(e._activeTimer),r||i-e._startTime<e._config.tapThreshold?(r||(e._firstTap=i),e._started&&e.trigger(t,e.event.tapcancel),void 0):(e._started||e._pressTrigger(),i-e._startTime>e._config.holdThreshold+e._config.tapThreshold?e.trigger(t,e.event.hold):e._firstTap&&i-e._firstTap<e._config.doubleTimeout?(t.preventDefault(),e.trigger(t,e.event.doubletap),e._firstTap=0):(e.trigger(t,e.event.tap),e._firstTap=i),void 0)},cancel:function(t){clearTimeout(this._activeTimer),this._started&&this.trigger(t,this.event.tapcancel)}}),r.Class=o,r}),define("mo/easing/base",[],function(){return{def:"ease",positions:{linear:[.25,.25,.75,.75],ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},values:{linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out"},functions:{linear:function(t,e,n,i){return n+i*t},ease:function(t,e,n,i){return(-Math.cos(t*Math.PI)/2+.5)*i+n},easeIn:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOut:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOut:function(t,e,n,i,r){return 1>(e/=r/2)?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n}}}}),define("choreo",["mo/lang/es5","mo/lang/mix","mo/easing/base","mo/mainloop","eventmaster"],function(t,e,n,i,r){function o(t,e,n,i){for(var r in t)n=e?"-"+e+"-"+r:r,y(n)in I.style&&(t[r]=n,O||"transition"!==r||(O=j[e]),i=!0);return i}function s(t){if(t||(t="_oz_choreo_"+W++),Y[t])return Y[t];var e=this;Y[t]=this,this.name=t,this._promise=new r.Promise,this._reset_promise=new r.Promise,this._count=0,this._optCache=[],F?this._runningActors=[]:i.addStage(t),this._reset_promise.bind(function(){e._promise.reset()})}function a(t,e){Array.isArray(t)&&(this.members=t,t={_promise:r.when.apply(r,this.members.map(function(t){return t.follow()}))},t._promise.bind(t._promise.pipe.disable)),this._opt=t,this.stage=e}function c(t,e){if(F){var n=t._runningActors;t.isPlaying()&&(n.forEach(function(n){e&&e(t.name,n)}),n.state=0,n.length=0)}else e&&e(t.name)}function l(t){var e=t.target,n=parseFloat(t._current_from||t.from),i=parseFloat(t.to),r=i-n,o=t._startTime?+new Date-t._startTime:0;0>o&&(o=0);var s=o/(t.duration||1),a=m(e),c=X[a];if(c&&c[t.prop]===t?(clearTimeout((c[t.prop]||{})._runtimer),delete c[t.prop]):s=0,s){var l=b(a);if(e.style[ee]=l,1>s){G[t.easing]&&(s=G[t.easing](s,o,0,1,t.duration));var u=w(t.from,t.to);n=n+r*s+u}else n=t.to;_(e,t.prop,n)}}function u(t){var e=t.target,n=m(e),i=X[n];i&&delete i[t.prop];var r=b(n);e.style[ee]=r,_(e,t.prop,t.to)}function h(t){var e=t.target,n=t.prop,i=m(e),r=X[i],o=t.from||g(e,n);if(o==t.to){var s=!0;if(r&&delete r[n],H[n])for(var a in r)if(H[a]){s=!1;break}return s&&t._promise.resolve([{target:t.target,succ:!0}]).disable(),void 0}t._current_from=o,t._startTime=+new Date+(t.delay||0),r[n]=t,_(e,n,o);var c=b(i);t._runtimer=setTimeout(function(){delete t._runtimer,e.style[ee]=c,_(e,n,t.to)},0)}function d(t,e){var n=e.target,r=parseFloat(e.to),o=e.from||g(e.target,e.prop),s=w(o,e.to);s&&0>(""+o).indexOf(s)&&(o=0),e._current_from=o;var a=parseFloat(o),c=e.delay&&"_oz_anim_"+B++;i.addTween(t,a,r,e.duration,{easing:e.easing,delay:e.delay,step:function(t){_(n,e.prop,t+s)},renderId:c,callback:function(){e._promise.resolve([{target:n,succ:!0}]).disable()}}),e._render=i.getRender(c)}function f(t,e){var n=p(t);return Object.keys(n).map(function(t){return e({prop:t,to:this[t]})},n)}function p(t){var e={};return t.split(R).forEach(function(t){var e=t.match(/([^\(\)]+)/g),n=e[1].split(/\,\s*/),i=H[e[0]],r=3===i,o=0>i||1>=n.length,s=o?[""]:["X","Y","Z"];i&&n.forEach(function(t,n){if(t&&s.length>=n&&r||o&&1>n||!o&&2>n){var i=e[0].replace("3d","")+s[n];this[i]=t}},this)},e),e}function m(t){var e=t._oz_fx;return e||(e=++q,t._oz_fx=e,t.removeEventListener(O,v),t.addEventListener(O,v)),X[e]||(X[e]={}),e}function v(t){if(t.target===this){var e=this,n=this._oz_fx,i=X[n];if(i)if(t.propertyName===J){for(var r in H)delete i[r];var o=z[n]||[];this.style[ee]=b(n),o.forEach(function(t){t.resolve([{target:e,succ:!0}]).disable()})}else{var s=i[t.propertyName];s&&(delete i[s.prop],this.style[ee]=b(n),s._promise&&s._promise.resolve([{target:this,succ:!0}]).disable())}}}function g(t,e){if(H[e])return k(t,e)||0;if(e===J)return t&&t.style[te||e]||M;var n=y(e),i=t&&(t.style[n]||(U?U(t,"").getPropertyValue(e):t.currentStyle[e]));return i&&/\d/.test(i)&&i||0}function _(t,e,n){H[e]?J&&k(t,e,n):t.style[y(e)]=n}function k(t,n,i){var r=p(g(t,J));if(!i)return r[n]||"rotate"===n&&"0deg";var o=p(n+"("+i+")");e.mix(r,o),t.style[te]=Object.keys(r).map(function(t){return t+"("+this[t]+")"},r).join(" ")}function b(t){var e=X[t];if(e){var n,i=[];for(var r in e)n=e[r],n&&n.prop&&i.push([H[n.prop]&&J||n.prop,(n.duration||0)+"ms",Q[n.easing]||"linear",(n.delay||0)+"ms"].join(" "));return i.join(",")}return""}function w(t,e){var n=(""+(t||"")).replace(D,""),i=(""+(e||"")).replace(D,"");return 0===parseFloat(t)&&i||0===parseFloat(e)&&n||i||n}function y(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function x(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function C(t){var e;if(F){e=new r.Promise;var n=m(t);z[n]||(z[n]=[]),z[n].push(e)}return e}function T(t){if(t.members){var n=t.members[0]._opt;if(!H[n.prop])return t.members.map(function(t){return T(t)});var i=t._opt=e.copy(n);i.prop=J,i.to=t.members.map(function(t){return t._opt.prop+"("+t._opt.to+")"}).join(" "),delete i._parent}return t._opt}function S(t,e,n){var i=t._opt,r=t.stage;if(r&&!r.isCompleted()&&r.cancel(),t.members){if("string"==typeof e&&H[t.members[0]._opt.prop]){var o={};f(e,function(t){o[t.prop]=t.to}),e=o}t.members.forEach(function(t){var e=t._opt;e.to=n(e,this[e.prop])},e)}else i.to=n(t._opt,e);return t}function E(t){return new s(t)}for(var O,L=this,A=["Moz","webkit","ms","O",""],j={"":"transitionend",Moz:"transitionend",webkit:"webkitTransitionEnd",ms:"MSTransitionEnd",O:"oTransitionEnd"},H={rotate:-2,rotateX:-1,rotateY:-1,rotateZ:-1,scale:2,scale3d:3,scaleX:-1,scaleY:-1,scaleZ:-1,skew:2,skewX:-1,skewY:-1,translate:2,translate3d:3,translateX:-1,translateY:-1,translateZ:-1},M="rotateX(0deg) rotateY(0deg) rotateZ(0deg) translateX(0px) translateY(0px) translateZ(0px) scaleX(1) scaleY(1) scaleZ(1) skewX(0deg) skewY(0deg)",N=["target","prop","duration","easing","delay","to"],R=/\)\s+/,D=/^[\-\d\.]+/,I=L.document.body,P=Array.prototype.slice,U=(document.defaultView||{}).getComputedStyle,V={transform:"",transition:""},F=!1,q=0,W=0,B=0,Y={},X={},z={},Q=n.values,G=n.functions,$=0,Z=A.length;Z>$&&!o(V,A[$]);$++);o(V,"");var J=V.transform,K=V.transition,te=y(J),ee=y(K);return te&&ee&&(F=!0),s.prototype={isPlaying:function(){return F?!!this._runningActors.state:i.isRunning(this.name)},isCompleted:function(){return 0>=this._count},play:function(){return this.isCompleted()&&(clearTimeout(this._end_timer),this._reset_promise.fire(),this._optCache.forEach(function(t){this.actor(t)},this)),F?this.isPlaying()||(this._runningActors.state=1,this._runningActors.forEach(h)):i.run(this.name),this},pause:function(){return F?(this._runningActors.state=0,this._runningActors.forEach(l)):i.pause(this.name),this},clear:function(){return this.cancel(),this._optCache.forEach(function(t){t._cached=!1}),this._optCache.length=0,this},cancel:function(){return c(this,function(t,e){F?l(e):i.remove(t)}),this._optCache.forEach(function(t){t._promise.reject([{target:t.target,succ:!1}]).disable()}),this},complete:function(){return c(this,function(t,e){F?(u(e),e._promise.resolve([{target:e.target,succ:!0}]).disable()):i.complete(t)}),this},actor:function(t,n){function i(t){(t||l.follow()).reset().enable()}function o(t){return t.follow().bind(s),t._opt._watcher=s,delete t._opt._parent,t}function s(t){--p._count>0||(p._end_timer=setTimeout(function(){c(p),p._promise[t.succ?"resolve":"reject"]([{succ:t.succ}])},0))}var l,u,p=this,m=this.name;if(clearTimeout(this._end_timer),n){if(t.nodeType){var v,g={};if(N.forEach(function(t,e){"prop"===t?v=this[e]:"to"!==t&&(g[t]=this[e])},arguments),u=Object.keys(v).map(function(t){return p.actor(e.mix({_parent:!0,prop:t,to:v[t]},this))},g),1===u.length)return u[0]}else u=P.call(arguments),u=u.map(function(t){return t._parent=!0,p.actor(t)});return this._reset_promise.bind(i),l=new a(u,p)}if(t.prop=V[t.prop]||t.prop,t._promise&&i(t._promise),t.prop===J){var _=C(t.target);return u=f(t.to,function(n){return e.merge(n,t),n._parent=!0,n._promise=_,p.actor(n)}),this._reset_promise.bind(i),l=new a(u,p)}return p._count++,t._promise||(t._promise=new r.Promise),F?(this._runningActors.push(t),this.isPlaying()&&h(t)):d(m,t),l=new a(t,p),t._cached||(t._cached=!0,this._optCache.push(t),o(l)),l},group:function(){var t,e=this,n=P.call(arguments).filter(function(t){return t.stage===e});return this._reset_promise.bind(function(){t.follow().reset().enable()}),t=new a(n,e)},follow:function(){return this._promise}},a.prototype={enter:function(t){this.stage&&this.exit();var n=t.actor.apply(t,[].concat(T(this)));return n.follow().merge(this.follow()),e.mix(this,n)},exit:function(){var t=this.stage,n=this._opt;if(!t)return this;this.members?this.members=this.members.map(function(t){return t.exit()}):(F?(x(t._runningActors,n),t.isPlaying()&&l(n)):i.remove(t.name,n._render),x(t._optCache,n),n._promise.reject([{target:n.target,succ:!1}]).disable());var r=this.fork();return n._parent||r.follow().merge(n._promise),e.occupy(n,r._opt),delete this.stage,this},fork:function(){if(this.members)return new a(this.members.map(function(t){return t.fork()}));var t={};return N.forEach(function(e){t[e]=this[e]},this._opt),t._promise=new r.Promise,new a(t)},setto:function(t){return S(this,t,function(t,e){return e||0===e?e:t.to})},extendto:function(t){return S(this,t,function(t,e){if(!e)return t.to;var n=w(t.to,e);return parseFloat(t.to)+parseFloat(e)+n})},reverse:function(){return S(this,{},function(t){return void 0!==t.from?t.from:t._current_from})},follow:function(){return this._opt._promise}},e.mix(E,{VERSION:"1.0.3",renderMode:F?"css":"js",Stage:s,Actor:a,config:function(t){t.easing&&(e.mix(Q,t.easing.values),e.mix(G,t.easing.functions),i&&i.config({easing:G})),/(js|css)/.test(t.renderMode)&&(F="css"===t.renderMode,this.renderMode=t.renderMode)},transform:k}),E}),define("soviet",["mo/lang/es5","mo/lang/mix","mo/lang/type","mo/lang/struct","dollar"],function(t,e,n,i,r){function o(t,n){e.config(this,n||{},m),this.target=r(t),this.events={},this.locks={},this.traceStack||(this.traceStack=[])}function s(t,e,n){var i;return t&&(this.trace&&(this.traceStack.unshift("<"+e.nodeName+"#"+(e.id||"")+">."+(e.className||"").split(/\s+/).join(".")),this.traceStack.length>this.trace&&this.traceStack.pop()),i=t.call(e,n),this.preventDefault&&!i&&n.preventDefault()),i}function a(t,e,n,i){var r=t[e];i?t[e]=n:n&&(r||(r=t[e]=d()),r.push(n))}function c(t,e,n,i){var r=t[e];!n||i?delete t[e]:r&&r.clear(n)}function l(t,e){return t[e]}function u(t){return this.locks[t]=this.matchesSelector?{}:{".":{},"#":{},"&":{}}}function h(t,e,n,i,r){if(void 0===r&&(r=this.autoOverride),e){if(!this.matchesSelector){var o=(/^[\.#]/.exec(e)||["&"])[0];e=e.substr("&"!==o?1:0),t=t[o],"."===o&&(e=e.split(".").join(" "))}}else e="_self_";return i(t,e,n,r)}var d=i.fnQueue,f=n.isFunction,p=r.find.matchesSelector,m={preventDefault:!1,matchesSelector:!1,autoOverride:!1,trace:!1,traceStack:null};o.prototype={on:function(t,e,n){if(f(e)&&(n=e,e=void 0),"object"==typeof e)for(var i in e)this.on(t,i,e[i]);else{var r=this.events[t];r||(this.target.bind(t,this.trigger.bind(this)),this.reset(t),r=this.events[t]),h.call(this,r,e,n,a)}return this},off:function(t,e,n){f(e)&&(n=e,e=void 0);var i=this.events[t];return i&&h.call(this,i,e,n,c),this},matches:function(t,e){var n=this.events[t];return h.call(this,n,e,null,l)},reset:function(t){return t?(this.events[t]=this.matchesSelector?{}:{".":{},"#":{},"&":{}},u.call(this,t)):(this.events={},this.locks={}),this},disable:function(t,e){var n=this.locks;if(t){var i=n[t];i||(i=u.call(this,t)),e?h.call(this,i,e,!0,a,!0):i._disable=!0}else this._global_lock=!0;return this},enable:function(t,e){var n=this.locks;if(t){var i=n[t];i&&(e?h.call(this,i,e,null,c,!0):delete i._disable)}else delete this._global_lock;return this},trigger:function(t){var e,n=this,i=t.target,r=this.locks[t.type]||{},o=this.events[t.type];if(!o||this._global_lock||r._disable)return e;if(this.matchesSelector)Object.keys(o).forEach(function(i){!r[i]&&p(this,i)&&(e=s.call(n,o[i],this,t))},i);else{var a,c,l=(a="#")&&(c=i.id)&&o[a][c]||(a=".")&&(c=i.className)&&o[a][c]||(a="&")&&(c=i.nodeName.toLowerCase())&&o[a][c]||null;if(l){var u=r[a][c];u||(e=s.call(this,l,i,t))}}return o._self_&&(e=s.call(this,o._self_,i,t)),e}};var v=function(t,e){return new v.Soviet(t,e)};return v.Soviet=o,v}),define("mo/easing/timing",["mo/lang/mix","mo/easing/base"],function(t,e){function n(t,e){e=e||{};for(var n in t)e[n]="cubic-bezier("+t[n].join(",")+")";return e}var i={easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeInBack:[.6,-.28,.735,.045],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeOutBack:[.175,.885,.32,1.275],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInOutBack:[.68,-.55,.265,1.55]};return i.swing=i.jswing=e.positions.ease,{positions:t.mix(i,e.positions),values:t.mix(n(i),e.values),stringify:n}}),define("../cardkit/app",["dollar","mo/lang","mo/browsers","mo/template","mo/easing/timing","soviet","choreo","momo/base","momo/tap","momo/swipe","momo/drag","momo/scroll","../cardkit/view/control","../cardkit/view/picker","../cardkit/view/stars","../cardkit/view/modalcard","../cardkit/view/actionview","../cardkit/view/growl","../cardkit/bus","../cardkit/render","../cardkit/supports","cardkit/env","mo/domready"],function(t,e,n,i,r,o,s,a,c,l,u,h,d,f,p,m,v,g,_,k,b,w){function y(){ce.openModal(t(this).data())}function x(){var t=d(this),e=t.data();e.disableUrl||e.disableJsonUrl?t.toggle():t.isEnabled||t.enable()}function C(){var t=d(this).toggle();L(t)}function T(){return t(this).hasClass("ck-post-button")?(x.call(this),void 0):T.call(this.parentNode)}function S(){return t(this).hasClass("ck-switch")?(C.call(this),void 0):S.call(this.parentNode)}function E(n){var i=e.mix({confirmText:"确认",cancelText:"取消",multiselect:!1},n.data());return i.options=t(i.options||".ck-option",n),v(n,i).open()}function O(t,e){var n=p(this),i=n.calc(t);n[e](i)}function L(t){t.parentId||(t.parentId=++J),ce.viewportGarbage[t.parentId]=1}function A(){}function j(e){var n=t(this).closest(".ck-list-wrap"),i=n.data("ckSlideAnime");i||(i=n.data("ckSlideAnime",+new Date));var r=ce.slideItemWidth,o=n[0].scrollLeft,a=o/r,c=a-Math.floor(a),l=t(".ck-list",n)[0],u=t(".ck-item",l).length-1;if(a>0&&u>a){a=e?.1>c?Math.floor(a):Math.ceil(a):c>.9?Math.ceil(a):Math.floor(a);var h=o-a*r+(a===u?re:0);n.addClass("stop-scroll"),s(i).clear().play().actor(l,{transform:"translateX("+h+"px)"},200,"easeOutSine").follow().then(function(){s.transform(l,"translateX","0"),n[0].scrollLeft-=h,n.removeClass("stop-scroll")})}}function H(t){return t.replace(/#.*/,"")===G.href.replace(/#.*/,"")}function M(e){var n,i,r=e.replace(/#(.*)/,function(t,e){return n=e,""}),o=G.href.replace(/#(.*)/,function(t,e){return i=e||"",""});if(r===o){if(r=n&&t("#"+n)||[],!r[0]&&(n=te,i.split(K).pop()===n))return!1}else n="";return n}function N(e){for(var n=e.target;!n.href;)n=n.parentNode;var i=M(n.href);if(i!==!1){if(t(n).hasClass("ck-link-extern"))return V(n.href,{target:"_blank"}),void 0;if(t(n).hasClass("ck-link"));else{if(/(^|\s)ck-\w+/.test(n.className))return;if(n.target)return i&&"_self"===n.target?R(i,null,!0):V(n.href,n),void 0}i?R(i):R(ee,n.href)}}function R(e,n,i){if(ce.disableControl(),m.isOpened)return ce.closeModal().done(function(){R(e,n)
}),void 0;ce._sessionLocked=!0;var r=e&&t("#"+e);r||(ce.enableControl(),ce._sessionLocked=!1),ce.hideTopbar();var o=ce.viewport;if(I(e),i)return ce.loadingCard.addClass("moving").show(),setTimeout(function(){ce.changeView(r),o.hide(),ce.loadingCard.hide().removeClass("moving"),ce.enableControl(),ce._sessionLocked=!1,ce.showTopbar()},400),void 0;s.transform(r[0],"translateX",z.innerWidth+"px"),r.addClass("moving"),ce.changeView(r),ce.cardMask.css("opacity",0).addClass("moving");var a=s("card:moving").clear().play();a.actor(ce.cardMask[0],{opacity:"0.8"},400,"ease"),a.actor(r[0],{transform:"translateX(0)"},450,"ease"),a.follow().then(function(){o.hide(),ce.cardMask.removeClass("moving"),r.removeClass("moving"),n?z.location=n:(ce.enableControl(),ce._sessionLocked=!1,ce.showTopbar())})}function D(e){if(ce._sessionLocked=!0,ce.disableControl(),v.current)return v.current.close().event.once("close",function(){D(e)}),void 0;ce.hideTopbar();var n=t("#"+e),i=ce.viewport;s.transform(i[0],"translateX","0px"),i.addClass("moving"),ce.changeView(n),ce.cardMask.css("opacity","0.8").addClass("moving");var r=s("card:moving").clear().play();r.actor(ce.cardMask[0],{opacity:"0"},400,"ease"),r.actor(i[0],{transform:"translateX("+z.innerWidth+"px)"},450,"ease"),r.follow().then(function(){if(ce.cardMask.removeClass("moving"),i.hide().removeClass("moving"),s.transform(i[0],"translateX","0px"),e===ee){(H($.referrer)||!/#.+/.test($.referrer))&&(ce._backFromSameUrl=!0),Q.back();var t=G.href;setTimeout(function(){G.href===t&&G.reload()},700)}else ce.enableControl(),ce._sessionLocked=!1,ce.showTopbar()})}function I(t){z.location=G.href.replace(/#(.*)|$/,"#$1"+K+t)}function P(t){ce._preventNextHashEv=!0,G.replace(G.href.replace(/#.*/,"")+(t||"#")),b.REPLACE_HASH||z.location.reload()}function U(){if(!b.WINDOW_SCROLL){var t,e=ce.viewport[0];1>e.scrollTop?e.scrollTop=1:e.scrollTop>(t=e.scrollHeight-e.offsetHeight-1)&&(e.scrollTop=t)}}function V(t,e){if(e=e||{target:"_self"},"_self"!==e.target)F(t,e.target);else{if(ce.disableControl(),m.isOpened)return ce.closeModal().done(function(){V(t,e)}),void 0;ce._sessionLocked=!0,ce.hideTopbar();var n=ce.loadingCard,i=ce.viewport;I(ee),ce.changeView(n),setTimeout(function(){i.hide(),z.location=t},10)}}function F(e,n){b.NEW_WIN?z.open(e,n):t('<a href="'+e+'" target="'+n+'"></a>').trigger("click")}function q(e){var n=e&&e.prev()[0];return n&&!n.offsetHeight?q(t(n)):n}function W(){}function B(){return!1}var Y,X,z=this,Q=z.history,G=z.location,$=z.document,Z=$.body,J=0,K="!/",te="ckDefault",ee="ckLoading",ne="_modal_",ie=10,re=15,oe='<div class="ck-viewmask"></div>',se='<div class="ck-cardmask"></div>';e.mix(a.Class.prototype,{bind:function(e,n,i){return t(i||this.node).bind(e,n),this},unbind:function(e,n,i){return t(i||this.node).unbind(e,n),this},trigger:function(e,n){return t(e.target).trigger(n),this}});var ae={a:N,"a *":N,".ck-post-link":x,".ck-post-button, .ck-post-button span":T,".ck-switch, .ck-switch span":S,".ck-segment .ck-option, .ck-segment .ck-option span":function(){var e=t(this);e.hasClass("ck-option")||(e=e.closest(".ck-option"));var n=f(e.parent());n.select(e)},".ck-tagselector .ck-option":function(){var t=f(this.parentNode);t.select(this)},".ck-actions .ck-option":function(){var e=t(this).closest(".ck-actions"),n=f(e,{ignoreStatus:"false"!==e.data("ignoreStatus")&&!0});n.select(this)},".ck-folder header":function(){d(this.parentNode).toggle()},".ck-select, .ck-select span, .ck-select .enabled":function(){var e=t(this);e.hasClass("ck-select")||(e=e.parent());var n=f(e);E(e),_.bind("actionView:confirmOnThis",function(t){n.select(t.val())})},".ck-actions-button, .ck-actions-button span":function(){var e=t(this);e.hasClass("ck-actions-button")||(e=e.parent()),E(e)},".ck-modal-button":y,".ck-modal-link":y,".ck-growl-button":function(){g(this).open()},".ck-actionview article > .ck-option":function(){v.current.select(this)},".ck-actionview > footer .confirm":function(){v.current.confirm()},".ck-actionview > footer .cancel":function(){v.current.cancel()},".ck-modalview .wrapper > header .confirm":function(){m.confirm()},".ck-modalview .wrapper > header .cancel":function(){m.cancel()},".ck-top-title":function(){this.href&&ce.openURL(this.href)},".ck-top-create .btn":y,".ck-top-action .btn":function(){v(this).open()}};_.bind("cardkit:updateSize",function(){if(m.isOpened){var t=m._contentWrapper,e=2*z.innerHeight;m._iframeContent&&m._iframeContent.css({minHeight:e+"px",width:t[0].offsetWidth+"px",height:t[0].offsetHeight-ce.headerHeight+"px"}),m._content.css("minHeight",e+"px")}var n=v.current;if(n){var i=z.innerHeight+10,e=n._wrapperContent.children().map(function(t){return t.offsetHeight||0}).reduce(function(t,e){return t+e})+parseFloat(n._wrapperContent.find("article").eq(0).css("bottom"));i>e&&(e=i),n._wrapperContent.css({minHeight:e+"px"}),n._node.css({height:e+"px"})}}),m.event.bind("prepareOpen",function(){ce.disableView=!0,b.CARD_SCROLL?t(Z).addClass("bg").addClass("modal-view"):z.scrollTo(0,-1)}).bind("cancelOpen",function(){ce.disableView=!1,t(Z).removeClass("bg").removeClass("modal-view")}).bind("open",function(){b.CARD_SCROLL||t(Z).addClass("bg").addClass("modal-view");var e=m._contentWrapper;Y=ce.viewport,ce.changeView(e,{isModal:!0}),m._iframeContent?m.event.done("frameOnload",function(){var e=t(m._iframeWindow[0].document.body);e.bind("touchstart",U),ce.initView(e,{isModal:!0}),setTimeout(function(){ce.enableControl()},400)}):m._content.html()?setTimeout(function(){ce.enableControl()},400):m.event.done("contentchange",function(){ce.initView(e,{isModal:!0}),setTimeout(function(){ce.enableControl()},400)})}).bind("prepareClose",function(){ce.disableView=!1,t(Z).removeClass("modal-view")}).bind("cancelClose",function(){ce.disableView=!0,t(Z).addClass("modal-view")}).bind("close",function(){ce.changeView(Y),t(Z).removeClass("bg")}),_.bind("actionView:prepareOpen",function(e){ce.disableView=!0;var n=e._wrapper;X=ce.viewport,n[0].scrollTop=0,ce.changeView(n,{preventRender:!0,preventScroll:!0,isActions:!0}),b.CARD_SCROLL||t(Z).addClass("bg")}).bind("actionView:cancelOpen",function(){m.isOpened||(ce.disableView=!1),b.CARD_SCROLL||t(Z).removeClass("bg"),ce.changeView(X,{preventRender:m.isOpened,preventScroll:!0,isModal:m.isOpened})}).bind("actionView:close",function(){m.isOpened||(ce.disableView=!1),b.CARD_SCROLL||t(Z).removeClass("bg"),ce.changeView(X,{preventRender:m.isOpened,preventScroll:!0,isModal:m.isOpened})}).bind("actionView:jump",function(t,e,n){t.event.once("close",function(){ce.openURL(e,{target:n})})});var ce={init:function(e){var i=this.root=e.root,a=t($);this.wrapper=t(".ck-wrapper",i),this.header=t(".ck-header",i),this.footer=t(".ck-footer",i),this.raw=t(".ck-raw",i),this.loadingCard=t("#"+ee).data("rendered","1"),this.defaultCard=t("#"+te),this.scrollMask=t(oe).appendTo(Z),w.showScrollMask&&this.scrollMask.css({opacity:"0.2",background:"#f00"}),this.controlMask=t(oe).appendTo(Z),w.showControlMask&&this.controlMask.css({opacity:"0.2",background:"#0f0"}),this.cardMask=t(se).appendTo(Z),this.headerHeight=this.header.height(),this.sizeInited=!1,this.viewportGarbage={},this._sessionLocked=!0,this.initWindow(),w.enableConsole&&(console.info("Features:",b),console.info("Platform:",n)),s.config({easing:r}),this.scrollGesture=h($),c($),l(this.wrapper,{timeThreshold:1e4,distanceThreshold:10}),b.CARD_SCROLL||t(Z).addClass("no-cardscroll"),b.SAFARI_OVERFLOWSCROLL||t(Z).addClass("no-overflowscroll"),b.HIDE_TOPBAR&&t(Z).addClass("mobilesafari-bar"),this.initState(),t(z).bind("resize",function(){var t=ce.isLandscape();t!==ce.landscapeMode&&(ce.initWindow(),ce.hideAddressbar(),v.current&&!b.CARD_SCROLL&&(ce.viewport[0].innerHTML=ce.viewport[0].innerHTML))}),this.loadingCard.bind("touchstart",function(t){t.preventDefault()}),o($,{matchesSelector:!0,preventDefault:!0}).on("click",{a:A,"a *":A}).on("touchend",{".ck-stars":function(t){O.call(this,t,"val")},".ck-stars .slider-selected":function(t){O.call(this.parentNode,t,"val")}}).on("touchmove",{".ck-stars":function(t){O.call(this,t,"pretend")},".ck-stars .slider-selected":function(t){O.call(this.parentNode,t,"pretend")}}).on("tap",ae),a.bind("scrolldown",function(){p||setTimeout(function(){ce.hideAddressbar()},0)});var u=o(this.wrapper,{matchesSelector:!0}).on("swipeleft",{".ck-mini-unit .ck-list-wrap *":function(){j.call(this,!0)}}).on("swiperight",{".ck-mini-unit .ck-list-wrap *":function(){j.call(this,!1)}});if(b.SAFARI_OVERFLOWSCROLL||u.on("touchend",{".ck-mini-unit .ck-list-wrap *":function(t){t.preventDefault()}}),b.CARD_SCROLL&&b.SAFARI_OVERFLOWSCROLL&&(a.bind("scrollstart",function(){ce.scrollMask.show()}).bind("scrollend",function(){ce.scrollMask.hide()}),a.bind("touchstart",U)),b.CARD_SCROLL&&a.bind("scroll",function(){if(m.isOpened){var t=z.scrollY;if(!t&&z.innerHeight>=ce.windowFullHeight)return;z.scrollTo(0,-1),Z.scrollTop=0,t>40&&(ce.viewport[0].scrollTop=ce.viewport[0].scrollTop+t-40)}}),b.HIDE_TOPBAR&&b.CARD_SCROLL){var d,f,p,_=g({corner:"center",expires:-1,keepalive:!0,content:"向下拖动显示地址栏"}),k=function(){clearTimeout(f),p&&(p=!1,_.close())};this.header.bind("touchstart",function(t){d=t.touches[0].clientY,f=setTimeout(function(){p=!0,ce.viewport[0].scrollTop=0,_.open()},510)}).bind("touchmove",function(t){clearTimeout(f),p&&d>t.touches[0].clientY&&(k(),p=!0,ce.windowFullHeight=1/0,ce.hideAddressbar())}).bind("touchend",k).bind("touchcancel",k)}},showView:function(){ce.hideAddressbar(),ce.hideLoadingCard(),ce.enableControl()},initWindow:function(){this.landscapeMode=this.isLandscape(),this.windowFullHeight=1/0},initState:function(){var e,n,i;ce._sessionLocked=!1,t(z).bind("hashchange",function(r){if(!ce._backFromSameUrl){if(e=!0,ce._preventNextHashEv||r.newURL.length>=r.oldURL.length)return ce._preventNextHashEv=!1,void 0;if(ce._sessionLocked)return z.location.reload(!0),void 0;if(i){var o=i&&t("#"+i)||[];if(!o[0])return;return z.scrollTo(0,-1),I(i),m.isOpened?m.close():n?(n=!1,ce.changeView(i),ce._sessionLocked=!1,ce.showView()):D(i),i=!1,void 0}var s=G.hash.split(K).pop();s?(i=s===ne&&te||s,ce._sessionLocked=!1,Q.back()):D(ee)}}),t(z).bind("popstate",function(){if(ce._backFromSameUrl){var t=z.location.hash.split(K).pop();return t?(Q.back(),void 0):(z.location.reload(),void 0)}e=!1,setTimeout(function(){e||(ce._sessionLocked=!1,n=!0,b.GOBACK_WHEN_POP?Q.back():z.location.reload(!0))},100)});var r,o,s=G.hash.replace(/^#/,"");if(s&&(s=s.split(K)),s){var a=[];s[1]===te&&(s=s.map(function(e){return e===ne||(e&&t("#"+e)||[])[0]?(a.push(K+e),e):void 0}).filter(function(t){return t}),r=s.pop()),a="#"+a.join(""),a!==G.hash&&P(a),r===ne&&(o=!0,r=te)}r?(ce.changeView(r),r===ee||o?$.referrer?(n=!0,Q.back()):(P("#"),ce.initNewPage()):ce.showView()):ce.initNewPage()},initNewPage:function(){ce.changeView(ce.defaultCard),I(te),ce.showView()},initView:function(t,e){k.openCard(t,e),t.data("rendered")||e.preventRender||(k.initCard(t,this.raw,this.footer,e),e.isModal||e.isActions||t.data("rendered","1")),this.watchScroll(t)},releaseView:function(t){this.viewport&&k.closeCard(this.viewport,t)},changeView:function(e,n){n=n||{},b.CARD_SCROLL||n.preventScroll||z.scrollTo(0,-1),this.releaseView(n),"string"==typeof e&&(e=t("#"+e));var i=e===this.loadingCard;this.initView(e,n),this.viewport=e.show(),i||this.updateSize(n),n.isModal||n.isActions||this.updateHeader(),sessionStorage.ck_lasturl=G.href,i||setTimeout(function(){_.fire("readycardchange",[e])},0)},updateSize:function(e){if(e=e||{},b.CARD_SCROLL||e.isActions){this.viewport[0].style.height=(this.sizeInited?z.innerHeight:screen.availHeight+60)+2+"px";var n=this.viewport.find(".ck-footer"),i=q(n);if(i){var r=screen.availHeight-(i.offsetTop+i.offsetHeight+this.viewport[0].scrollTop);r>0?n.css("paddingTop",r+"px"):n.css("paddingTop","0px")}}this.viewport.find(".ck-mini-unit").forEach(function(t){var e=this(".ck-item",t),n=ce.slideItemWidth=z.innerWidth-ie-re;e.length>1&&(e.css("width",n-ie-2+"px"),this(".ck-list",t).css("width",n*e.length+ie+"px"))},t),_.fire("cardkit:updateSize")},watchScroll:function(t){this.scrollGesture.watchScroll(t[0])},updateHeader:function(){var t=this.header.find(".ck-top-create").empty(),e=this.viewport.find(".ckd-top-create").html();e&&t.append(e)},renderUnit:function(t){k.initUnit(t,this.raw)},hideLoadingCard:function(){ce.loadingCard.hide().css({position:"static"}),ce.showTopbar()},hideTopbar:function(){this.topbarEnable&&!this.disableView&&(this.topbarEnable=!1,t(Z).removeClass("ck-topbar-enabled"))},showTopbar:function(){this.topbarEnable||(this.topbarEnable=!0,t(Z).addClass("ck-topbar-enabled"))},hideAddressbar:function(){this.windowFullHeight>z.innerHeight&&(this.loadingCard.find("div")[0].style.visibility="hidden",!b.HIDE_TOPBAR||!b.CARD_SCROLL&&this.sizeInited||(z.scrollTo(0,-1),Z.scrollTop=0),this.sizeInited||(this.sizeInited=!0),this.windowFullHeight=z.innerHeight,ce.updateSize(),this.loadingCard.find("div")[0].style.visibility="")},isLandscape:function(){return z.innerWidth/z.innerHeight>1.1},enableControl:function(){this.controlMask.hide(),z.ckControl=W},disableControl:function(){this.controlMask.show(),z.ckControl=B},showLoading:function(t){this.disableControl(),this.loadingTips||(this.loadingTips=g({expires:-1,keepalive:!0,corner:"center"})),this.loadingTips.set({content:t||"正在加载..."}).open(),this._loadingStart=+new Date},hideLoading:function(t){t=e.mix({duration:800},t);var n=+new Date-this._loadingStart;t.duration>n?setTimeout(function(){ce.hideLoading(t)},t.duration-n):(this.loadingTips&&this.loadingTips.close(),this.enableControl())},openModal:function(t){this.hideAddressbar(),this.disableControl(),m.isOpened||I(ne),m.set(t).open()},closeModal:function(){return m.cancel(),m.event.promise("close")},alert:function(t,n){v("ckAlert",e.mix({title:"提示",content:t||"",cancelText:"关闭",multiselect:!1},n)).open()},confirm:function(t,n,i){v("ckAlert",e.mix({title:"提示",content:t||"",confirmText:"确认",cancelText:"取消",multiselect:!0},i)).open().event.once("confirm",n)},notify:function(t,n){ce.growl(e.mix({content:t},n)).open()},openURL:V,delegate:o($,{autoOverride:!0,matchesSelector:!0,preventDefault:!0}),event:_,control:d,picker:f,modalCard:m,actionView:v,growl:g};return ce}),require.config({baseUrl:"js/mod/",distUrl:"dist/js/mod/",aliases:{cardkit:"../cardkit/"}}),define("mo/easing/functions",[],function(){}),define("mo/mainloop",[],function(){}),define("cardkit/env",[],function(){return{}}),define("cardkit/pageready",["finish","cardkit/bus"],function(t,e){e.once("readycardchange",function(){setTimeout(t,500)})}),require(["dollar","cardkit/bus","cardkit/app","cardkit/env"],function(t,e,n,i){function r(){n.init({root:t(".ck-root")})}i.enableConsole?require(["mo/console"],function(t){t.config({record:!0}).enable(),r()}):r()});